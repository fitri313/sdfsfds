/*! ds-bootstrap - v1.0.0.34725 - 2025-05-21 4:43pm UTC
* Copyright (c) 2025 ; Not Licensed */!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,a=void 0,a=function(t,n){if("object"!==e(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,n||"default");if("object"!==e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(o,"string"),"symbol"===e(a)?a:String(a)),r)}var o,a}var n=DS,i=n._,r=n.pubSub,o=n.events,a=n.constants,l=n.utils,s=n.translationStore,c=[],u=function(){function e(t,n,l){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.frame=t,this.frame.blocked=!1,this.preso=l,this.setupControlOptions(),this.layouts={},this.dockedStates={},this.dockSettings={dockedState:a.docked.NONE,width:0},this.setLayout(this.frame.default_layout,a.refs.FRAME),DS.flagManager.localizationPlatform&&!i.isEmpty(n)&&this.setLocalizationData(n,!0),this.resourceDescription=this.frame.resourceData.description;var c=l.getFirstSlide();for(var u in this.slideWidth=c.get("width"),this.slideHeight=c.get("height"),this.temp=[],this.frame.layouts)this.temp.push(u);this.rtl="rtl"===this.frame.textdirection,this.hasModernText=0!==this.frame.renderingEngineType,this.dir=this.dir.bind(this),i.bindAll(this,"onLayoutChanged"),r.on(o.controlLayout.CHANGED,this.onLayoutChanged),r.on(o.controlLayout.UPDATE,(function(e,t,n){s.frame.controlLayouts[e]=n,s.setLayout(e,t)})),r.on(o.controlOptions.CHANGED,(function(e){var t=s.optionChangesRequireMenuRefresh(s.frame.controlOptions.menuOptions,e.menuOptions);s.frame.controlOptions=e,s.setupControlOptions(),r.trigger(o.controlOptions.RESET),t&&r.trigger(o.navData.REFRESH_VIEW)})),r.on(o.frame.FONT_SCALE,(function(e){s.frame.fontscale=e,r.trigger(o.controlOptions.RESET)})),r.on(o.glossary.UPDATE,(function(e){s.frame.glossaryData=e,r.trigger(o.glossary.REFRESH_VIEW)})),r.on(o.navData.UPDATE,(function(e){s.frame.navData=e,r.trigger(o.navData.REFRESH_VIEW)})),r.on(o.resources.UPDATE,(function(e){s.frame.resourceData.resources=e,r.trigger(o.resources.REFRESH_VIEW)})),r.on(o.resources.UPDATE_DESCRIPTION,(function(e){s.frame.resourceData.description=e,r.trigger(o.resources.REFRESH_VIEW)})),r.on(o.layer.DIALOG_SHOWN,(function(e){var t=DS.windowManager.getCurrentWindow();r.trigger(o.frameModel.BLOCKED_CHANGED,t.frame.id,!0,e)})),r.on(o.layer.DIALOG_HIDDEN,(function(){var e=DS.windowManager.getCurrentWindow();r.trigger(o.frameModel.BLOCKED_CHANGED,e.frame.id,!1)})),r.on(o.localization.LANGUAGE_UPDATED,(function(){s.setLocalizationData(DS.localizationManager.getCurrentFrameData())})),r.on(o.localization.REVIEW_FRAME_UPDATED,(function(){s.updateReviewStrings()}))}var n,u,f;return n=e,u=[{key:"traverseMenu",value:function(e,t){var n=this;t.forEach((function(i){e(i),null!=i.links&&t.length>0&&n.traverseMenu(e,i.links)}))}},{key:"updateMenuStrings",value:function(){var e=l.getPath(this.frame,"navData.outline.links",[]);this.traverseMenu((function(e){e.displaytext=s.getUpdatedTextData("menuItem","".concat(e.translationId,"-Name"),e.displaytext)}),e)}},{key:"updateGlossaryStrings",value:function(){(this.frame.glossaryData||[]).forEach((function(e){var t=e.translationId;e.title=s.getUpdatedTextData("glossaryItem","".concat(t,"-Term"),e.title),e.content=s.getUpdatedTextData("glossaryItem","".concat(t,"-Definition"),e.content)}))}},{key:"updateResourcesStrings",value:function(){l.getPath(this.frame,"resourceData.resources",[]).forEach((function(e){var t=e.translationId;e.title=s.getUpdatedTextData("resourceItem","".concat(t,"-Title"),e.title)}))}},{key:"updateNoteStrings",value:function(){(this.frame.notesData||[]).forEach((function(e){var t=e.slideId,n=i.last(t.split(".")),r=s.getUpdatedTextData("slideNote","".concat(n,"-Note"));null!=r&&null!=DS.renderHtmlString&&(e.content=DS.renderHtmlString(r))}))}},{key:"updateReviewStrings",value:function(){this.updateMenuStrings(),this.updateGlossaryStrings(),this.updateResourcesStrings(),this.updateNoteStrings(),this.title.text=s.getUpdatedTextData("projectTitle","project-Title",this.title.text),this.notifyStringsUpdated()}},{key:"setLocalizationData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.frame.stringTables=e.stringTables,this.frame.navData=e.navData,this.frame.resourceData=e.resourceData,this.frame.glossaryData=e.glossaryData,this.frame.notesData=e.notesData,this.frame.controlStrings=e.controlStrings.reduce((function(e,t){var n=t.id,i=t.value;return e[n]=i,e}),{}),this.title.text=this.frame.controlStrings.title,this.logo.altText=this.frame.controlStrings.logoAltText,this.frame.textdirection=e.textdirection,this.rtl="rtl"===this.frame.textdirection,"bylanguage"===this.initialSidebarPos&&(this.sidebarOpts.sidebarPos=this.getSidebarPos()),t||this.notifyStringsUpdated()}},{key:"notifyStringsUpdated",value:function(){r.trigger(o.strings.UPDATE_STRINGS),r.trigger(o.navData.REFRESH_VIEW),r.trigger(o.glossary.REFRESH_VIEW),r.trigger(o.resources.REFRESH_VIEW),r.trigger(o.transcript.REFRESH_VIEW),r.trigger(o.frame.REFLOW),r.trigger(o.frame.LOCALIZATION_UPDATED)}},{key:"getSidebarPos",value:function(){return"bylanguage"===this.initialSidebarPos?DS.localizationManager.getCurrentLangIsRTL()?"right":"left":this.initialSidebarPos}},{key:"setupControlOptions",value:function(){var e=this.frame.controlOptions.sidebarOptions;this.initialSidebarPos=e.sidebarPos,e.sidebarPos=this.getSidebarPos(),this.sidebarOpts=e,this.bottomBarOpts=this.frame.controlOptions.bottomBarOptions,this.topTabs=e.tabs.linkRight||[],this.topTabsLeft=e.tabs.linkLeft||[],this.topTabsRight=e.tabs.linkRight||[],this.sidebarTabs=e.tabs.sidebar||[],this.outlineInSidebar=this.sidebarTabs.some((function(e){return"outline"===e.name})),this.buttonOptions=this.frame.controlOptions.buttonoptions,this.title={enabled:e.titleEnabled,text:e.titleText},this.logo={enabled:e.logoEnabled,altText:e.logoAltText}}},{key:"optionChangesRequireMenuRefresh",value:function(e,t){return e.wrapListItems!==t.wrapListItems||e.autonumber!==t.autonumber}},{key:"onLayoutChanged",value:function(e,t){this.setLayout(e,t)}},{key:"hasTopLinks",value:function(){return 0!==this.topTabsLeft.length||0!==this.topTabsRight.length}},{key:"getControlString",value:function(e){return s.getUpdatedTextData("frameLink","".concat(e,"-Link"),l.getPath(this.frame,"controlStrings.".concat(e),null))}},{key:"getString",value:function(e){var t=this.currLayout.string_table,n=this.frame.stringTables[t].string[e];return null==n?(c.includes(e)||(c.push(e),console.warn("could not find ".concat(e," in string table ").concat(t))),e.replace("acc_","").replace(/_/g," ")):n}},{key:"setDocked",value:function(e,t,n){t===a.docked.NONE?(this.dockedStates[e]=null,delete this.dockedStates[e]):this.dockedStates[e]={dockedState:t,width:n};var i=Object.keys(this.dockedStates);0===i.length?this.dockSettings={dockedState:a.docked.NONE,width:0}:t!==a.docked.NONE?this.dockSettings={dockedState:t,width:n}:this.dockSettings=this.dockedStates[i[0]]}},{key:"getDockedWidth",value:function(){var e=this.dockSettings,t=e.dockedState,n=e.width;return t!==DS.constants.docked.NONE?n:0}},{key:"setLayout",value:function(e,t){this.currLayout=this.frame.layouts[e],this.currControlLayout=this.frame.controlLayouts[e],this.layouts[t]=this.currControlLayout,r.trigger(o.frameModel.LAYOUT_CHANGED,this.currControlLayout,t)}},{key:"getWndControlLayout",value:function(e){return this.layouts[e]||this.currControlLayout}},{key:"dir",value:function(e){if(null!=e)return this.rtl?e.reverse():e}}],u&&t(n.prototype,u),f&&t(n,f),Object.defineProperty(n,"prototype",{writable:!1}),e}(),f=u;function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,v(i.key),i)}}function v(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==d(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}var m,g=DS,w=g._,S=g.scaler,k=g.detection,O=g.detection.orientation,C=g.utils,E=C.getPath,L=C.scaleVal,T=C.pxify,x=g.dom,P=x.addClass,I=x.removeClass,D=g.constants.refs.FRAME,j=document.getElementById(DS.constants.els.PRESO),A={x:"w",xl:"w",xp:"w",y:"h",yl:"h",yp:"h",wl:"w",wp:"w",hl:"h",hp:"h"},R=["wrapper","lightBoxWrapper"],B=function(e){null!=e.beforeUpdateHook&&e.beforeUpdateHook()},M=function(e,t,n){B(e),n=e.w>0?n:0,e.y=e.top=0,e.x=e.left=t.l+n,e.update(!0),t.l=e.x+e.w},H=function(e,t,n){B(e),n=e.w>0?n:0,e.y=e.top=0,e.x=e.left=t.r-e.w-n,e.update(!0),t.r=e.x},N=function(e,t,n){B(e),n=e.h>0?n:0,e.x=e.left=0,e.y=e.top=t.t+n,e.update(!0),t.t=e.y+e.h},F=function(e,t,n){B(e),n=e.h>0?n:0,e.x=e.left=0,e.y=e.top=t.b-e.h-n,e.update(!0),t.b=e.y},V={l:M,r:H,t:N,b:F},U=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ViewLogic=t,this.params=n,this.nameKey=null!=n&&n.nameKey||t.nameKey,this.enabled=!0}var t,n,i;return t=e,n=[{key:"init",value:function(e){if(this.hasInited)console.warn("has already initialized",this);else{var t;this.hasInited=!0;var n=this.ViewLogic,i=this.params;null==i&&null!=n?i=n:null!=n&&(t=!0),w.isFunction(i)&&(i=i(this.nameSpace||e)),i.w=i.w||i.minW||100,i.h=i.h||i.minH||100,this.orientationProps(i,"x","y","w","h","scale"),(i=Object.assign({position:"absolute",x:0,y:0,minW:0,maxW:Number.MAX_SAFE_INTEGER,minH:0,maxH:Number.MAX_SAFE_INTEGER,wPad:0,scale:1,visibility:"reflow",visual:!0,bgColor:null,overflow:"hidden",origin:"center center",z:null,opacity:null,visible:!0,attrs:{},noContent:!0,calcTextSize:!1},i)).calcTextSize&&(i.noContent=!1),this.noContent=i.noContent,this.lastWidthByText=0,this.lastHeightByText=0,this.padLeft=i.padLeft||0,this.padRight=i.padRight||0,this.childDef=i.childDef,this.childViews=i.childViews,this.updateHook=i.updateHook,this.onCaptionChanged=i.onCaptionChanged,i.childViews=null,i.updateHook=null,i.childDef=null,i.nameKey=null,i.onCaptionChanged=null,Object.assign(this,i.methods),i.methods=null,this.createDynamicGetters(i),i.visual&&(this.el=document.createElement(i.tag||"div"),this.initAttributes(i.attrs),this.initStyles(i),"button"===i.tag&&(this.el.style.cursor="pointer"),this.initContent(i),i.add&&j.appendChild(this.el),this.hasInitialized=!0),this.initVisibility(i),this.initChildRefs(),t&&(this.viewLogic=new n(this))}}},{key:"orientationProp",value:function(e,t){var n="".concat(t,"l"),i="".concat(t,"p");null!=e[n]&&null!=e[i]&&(e[t]=function(){return O.isLandscape?this[n]:this[i]})}},{key:"orientationProps",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];i.forEach((function(n){return t.orientationProp(e,n)}))}},{key:"initContent",value:function(e){if(this.noContent){var t=this.html;null!=t&&(this.el.innerHTML=t)}else this.content=document.createElement("div"),this.content.setAttribute("class","view-content"),this.content.setAttribute("tabindex",-1),Object.assign(this.content.style,{position:"relative","text-align":"center",top:0}),Object.assign(this.content.style,e.contentStyle||{}),this.initAttributes(e.contentAttrs,this.content),null!=e.html&&(this.content.innerHTML=this.html),this.el.appendChild(this.content)}},{key:"initAttributes",value:function(e,t){for(var n in e)if(null!=e[n]){var i=e[n];"id"===n?i=w.kebabCase(i):"tabindex"===n&&-1!==i&&this.el.setAttribute("data-".concat(n),i),(t||this.el).setAttribute(n,i)}}},{key:"initStyles",value:function(e){if(Object.assign(this.el.style,{position:e.position,left:0,top:0,backgroundColor:e.bgColor,border:e.border,overflow:e.overflow,transformOrigin:e.origin,opacity:e.opacity,zIndex:e.z}),null!=E(e,"style.display")){var t=e.style.display;"boolean"==typeof t&&(e.style.display=t?"block":"none")}Object.assign(this.el.style,e.style)}},{key:"initVisibility",value:function(e){!1===e.visible&&this.setVisibility(!1)}},{key:"initChildRefs",value:function(){this.children=[],this.childList=[];for(var e=this.el.querySelectorAll("[data-ref]"),t=0;t<e.length;t++)this.children[e[t].dataset.ref]={el:e[t]}}},{key:"updateStrings",value:function(){null!=this.ariaStringId&&this.el.setAttribute("aria-label",G.model.getString(this.ariaStringId)),null!=this.updateDomStrings&&(this.updateDomStrings(),this.calcTextSize&&(this.doTextCalcs(),this.update()))}},{key:"updateHtml",value:function(){var e=this.html;null!=e&&(this.noContent?this.el.innerHTML=e:this.content.innerHTML=e)}},{key:"createDynamicGetters",value:function(t){for(var n in t)"id"!==n&&null!=t[n]&&e.prop(this,n,t[n])}},{key:"updateSize",value:function(){"button"===this.tag?(this.el.style.width=T(L(Math.max(this.w,24))),this.el.style.height=T(L(Math.max(this.h,24)))):(this.el.style.width=T(L(this.w)),this.el.style.height=T(L(this.h)))}},{key:"updateTrans",value:function(){var e=R.includes(this.nameKey)?w.identity:L,t=["translate(".concat(T(e(this.x)),", ").concat(T(e(this.y)),")")];if(this.xs)for(var n=0;n<this.xs.length;n++)t.push("translateX(".concat(T(e(this.xs[n])),")"));if(this.ys)for(var i=0;i<this.ys.length;i++)t.push("translateY(".concat(T(e(this.ys[i])),")"));k.deviceView.isMobile&&null!=this.scale&&t.push("scale(".concat(this.scale,")")),this.el.style.transform=t.join(" ")}},{key:"calcChildrensWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},t=0;return null!=this.children&&this.children.forEach((function(n){e(n)&&(n.update(),t+=n.w)})),t}},{key:"calcChildrensHeight",value:function(){var e=0;return null!=this.children&&this.children.forEach((function(t){t.update(),e+=t.h})),e}},{key:"positionChildren",value:function(e){var t=e.vertical,n=e.toTop,i=e.toLeft,r=e.pad,o=e.startPos,a=e.reverse,l=void 0!==a&&a,s=e.hook,c=void 0===s?w.noop:s,u=e.rtl,f=void 0!==u&&u,d=e.sizeToChildren,h=e.alignChild,y=t?n?F:N:i?H:M,b=Object.assign({l:o,r:o,t:o,b:o},e.bounds),v=l!==f?this.children.slice().reverse():this.children,m=p(t?["height","t"]:["width","l"],2),g=m[0],S=m[1],k=O.isLandscape?w.first:w.last;v.forEach((function(e){(e.beforeReflowHook||w.noop)();var t=h&&k(e.parentAlign);!e.visible&&"reflow"===e.visibility||"-"===t||(t?V[t](e,b,r):y(e,b,r),c(e))})),d&&(this[g]=b[S])}},{key:"flowChildren",value:function(e){(e=Object.assign({pad:0,sizeToChildren:!1,startPos:0,toLeft:!1,reverse:!1,fullUpdate:!1,rtl:!1,hook:function(){}},e)).fullUpdate?this.hasAllChildren()&&(this.positionChildren(e),this.updateSize()):this.positionChildren(e)}},{key:"isBlocked",value:function(){if(k.theme.isClassic)return!1;var e=G.getTopNameSpace(),t=G.getCurrentNameSpace(),n=G.getBlocker(t.name);return null!=e&&null!=n&&n.visible}},{key:"setEnabled",value:function(e,t){this.enabled!=e&&(this.enabled=e,e?I(this.el,"cs-disabled"):P(this.el,"cs-disabled"),this.el.setAttribute("aria-disabled",!e));var n=this.el.getAttribute("data-tabindex");null!=n&&this.el.setAttribute("tabindex",t&&!e||this.isBlocked()?-1:n)}},{key:"setVisibility",value:function(e,t){var n=this.visible!==e,i=!1;return"no-reflow"===this.visibility?(this.el.style.visibility=e?"visible":"hidden",this.el.style.pointerEvents=e?"":"none"):"reflow"===this.visibility&&(this.el.style.display=e?"block":"none",i=!0),t&&(this.layoutDefaultVisible=e),this.visible=e,n&&E(this,"viewLogic.didChangeVisibility")&&this.viewLogic.didChangeVisibility(e),i}},{key:"ariaVisibleWithChildren",value:function(){DS.flagManager.narratorSupport&&this.el.setAttribute("aria-hidden",!this.children.some((function(e){return e.visible})))}},{key:"childVisibilityChanged",value:function(){null!=this.childVisibilityChangedHook?this.childVisibilityChangedHook():null!=this.parent&&this.parent.childVisibilityChanged()}},{key:"update",value:function(e){null==this.beforeUpdateHook||e||this.beforeUpdateHook(),this.updateSize(),this.updateTrans(),null!=this.updateHook&&this.updateHook()}},{key:"updateChildren",value:function(e){this.children.forEach((function(t){t.update(),e&&t.updateChildren(e)}))}},{key:"doTextCalcs",value:function(){var e=1/S.getScale(),t=this.content.style.width,n=this.el.style.display;DS.flagManager.localizationPlatform&&(this.el.style.display="block",this.content.style.width="fit-content");var i=this.content.clientWidth*e,r=this.content.clientHeight*e;DS.flagManager.localizationPlatform&&(this.content.style.width=t,this.el.style.display=n),this.lastWidthByText=i+4+this.padLeft+this.padRight,this.lastHeightByText=r+4}},{key:"wasAppended",value:function(){var e=this;this.calcTextSize&&this.doTextCalcs(),null!=this.childViews&&this.childViews.forEach((function(t){"string"==typeof t&&(t=G.getOrCreateView(t)),t.init(e.nameSpace),e.append(t)}))}},{key:"setChildNum",value:function(e){this.defaultChildNum=e}},{key:"hasAllChildren",value:function(){return this.hasInitialized&&this.children.length===this.defaultChildNum}},{key:"append",value:function(e,t){if(e.parent=this,this.children[w.camelCase(e.nameKey)]=e,t?this.children.unshift(e):this.children.push(e),this.noContent||e.outsideContent?this.el.appendChild(e.el):this.content.appendChild(e.el),e.wasAppended(),e.update(),null==e.nameSpace){for(var n=this;null!=n&&null==n.nameSpace;)n=n.parent;e.nameSpace=n.nameSpace,G.hasNamespace(n.nameSpace)?G.getNamespace(n.nameSpace)[e.nameKey]=e:console.warn("could not find namespace ".concat(n.nameSpace," when appending"))}}},{key:"destroy",value:function(){var e,t;null!=this.children&&this.children.forEach((function(e){return e.destroy()})),null==this||null===(e=this.viewLogic)||void 0===e||null===(t=e.teardown)||void 0===t||t.call(e),null!=this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.nameSpace=null}},{key:"startFloat",value:function(){this.floating=!0,this.lastFloatParent=this.el.parentNode,this.shouldReparent&&G.getNamespace(this.nameSpace).wrapper.el.appendChild(this.el)}},{key:"endFloat",value:function(){this.floating&&(this.floating=!1,this.shouldReparent&&this.lastFloatParent.appendChild(this.el))}},{key:"right",value:function(){return this.floating?0:this.x+this.w}},{key:"bottom",value:function(){return this.floating?0:this.y+this.h}},{key:"getBox",value:function(){if(null==G.getNamespace(this.nameSpace).wrapper)return null;var e=k.theme.isClassic&&G.getNamespace(this.nameSpace).wrapper.dimScale||1,t=(G.getNamespace(this.nameSpace).wrapper.scale||1)*e,n=this.x,i=this.y,r=this.w,o=this.h,a=this.offsets,l=(a=void 0===a?{}:a).l,s=void 0===l?0:l,c=a.t,u=this;for(n=(n+s)*t,i=(i+(void 0===c?0:c))*t;u=u.parent;){var f=null!=u.parent?t:1,d=u.offsets,h=(d=void 0===d?{}:d).l,p=void 0===h?0:h,y=d.t,b=void 0===y?0:y;n+=(u.x+p)*f,i+=(u.y+b)*f}return{x:n,y:i,w:r*=t,h:o*=t}}}],n&&b(t.prototype,n),i&&b(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();U.propFns={"fit-to-text-w":function(){return Math.max(this.minW,this.lastWidthByText)+this.wPad},"fit-to-text-h":function(){return Math.max(this.minH,this.lastHeightByText)},"vertical-center":function(){return this.parent.h/2-this.h/2},"horizontal-center":function(){return this.parent.w/2-this.w/2}},U.prop=function(e,t,n){if("number"==typeof n)e[t]=n;else if("string"==typeof n&&null!=U.propFns[n])Object.defineProperties(e,h({},t,{get:U.propFns[n],set:w.noop}));else if("string"==typeof n&&n.endsWith("%")){var i=parseFloat(n)/100,r=null!=A[t]?A[t]:t;Object.defineProperties(e,h({},t,{get:function(){return this.parent[r]?e.parent[r]*i:0},set:w.noop}))}else if(w.isFunction(n)){var o;if("w"===t||"h"===t){var a=n.bind(e),l=t.toUpperCase(),s=e["min".concat(l)],c=e["max".concat(l)];o=function(){var e=a();return e<s?e=s:e>c&&(e=c),e}.bind(e)}else o=n;Object.defineProperties(e,h({},t,{get:o,set:w.noop}))}else e[t]=n;e[t]=n};var W={},z={},Z={},K=function(e){var t,n,i=d(e);return"string"===i?t=e:"object"===i?n=e[t=Object.keys(e)[0]]:console.warn("invalid view definition. ".concat(e," is a ").concat(d(e))),{viewName:t,children:n}},G={nameSpaces:{},nsStack:[],iconTextEl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return!DS.flagManager.magnifierSupport||DS.detection.deviceView.isMobile?"":'<div class="frame-icon-text"\n      style="'.concat(t,'">').concat(G.model.getString(e),"</div>")},getNamespace:function(e){return this.nameSpaces[e]},hasNamespace:function(e){return null!=this.nameSpaces[e]},setModel:function(e){return this.model=e,this},resetStates:function(e){var t=this.getNamespace(e);w.forEach(t,(function(e){return e&&e.setEnabled&&e.setEnabled(!0)}))},updateVisibility:function(e,t){var n=!1;for(var i in e){var r=this.nameSpaces[t][i];if(null!=r)r.setVisibility(e[i],!0)&&(n=!0)}return n},def:function(e,t,n){null==n?t.nameKey=e:n.nameKey=e;var i=new U(t,n);return null==W[e]?(W[e]=i,z[e]={ViewLogic:t,p:n},Z[e]=0):console.warn("views connot share the same name ".concat(e)),i},addNameSpace:function(e){m=e,this.nameSpaces[m]=this.nameSpaces[m]||{name:e,topLevelElements:[],isAttached:!0,tabReachable:!0,detach:function(){this.isAttached=!1,this.topLevelElements.forEach((function(e){return j.removeChild(e.el)}))},reattach:function(){this.isAttached=!0,this.topLevelElements.forEach((function(e){return j.appendChild(e.el)}))},updateTabIndex:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=function(t){if(!t.dataset.leavealone){var n=t.getAttribute("data-tabindex");null==n&&(n=t.tabIndex,t.setAttribute("data-tabindex",n)),t.tabIndex=e.tabReachable?n:-1}};this.topLevelElements.forEach((function(r){var o=function(e,t){t?e.el.removeAttribute("aria-hidden"):e.el.setAttribute("aria-hidden",!0)};t&&(r.children.some((function(e){return"startoverlay"===e.nameKey}))?r.children.filter((function(e){return"startoverlay"!==e.nameKey})).forEach((function(t){return o(t,e.tabReachable)})):o(r,e.tabReachable)),r.el.querySelectorAll(n||DS.flagManager.nativePrompts?"[tabIndex]:not(.acc-shadow-el):not(.slide-object)":"[tabIndex]").forEach((function(e){return i(e)})),"lightBoxClose"===r.nameKey&&i(r.el)}))}}},update:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){e.forEach((function(e){w.isFunction(e)?e():Array.isArray(e)?update(e,t):null==e||!e.update||e.noUpdate&&!t||(e.update(),t&&e.updateHtml())}))})),getViewConfig:function(e){var t=z[e];return{name:e,ViewLogic:t.ViewLogic,p:t.p}},getOrCreateView:function(e){if(++Z[e]>1){var t=z[e],n=t.ViewLogic,i=t.p;return new U(n,i)}return W[e]},tree:function(e,t){for(var n=this,i=[],r=function t(i){if(null!==i){var r=K(i),o=r.viewName,a=r.children,l=n.nameSpaces[e][o]=n.getOrCreateView(o);if(null!=l){if(l.nameSpace=e,E(a,"length")>0){l.setChildNum(a.length),l.hasChildren=!0;for(var s=0;s<a.length;s++)t(a[s])}}else console.warn("could not find view '".concat(o,"'"))}},o=function t(r,o){if(null!==r){var a=K(r),l=a.viewName,s=a.children,c=n.nameSpaces[e][l];if(null!=c){if(c.init(e),null!=o?o.append(c):n.nameSpaces[e].topLevelElements.push(c),null!=c.childDef&&c.childDef(),i.push(c),c.hasChildren)for(var u=0;u<s.length;u++)t(s[u],c)}else console.warn("could not find view '".concat(l,"'"))}},a=0;a<t.length;a++)r(t[a]);for(var l=0;l<t.length;l++)o(t[l]);return i},getCurrentNameSpace:function(){return this.nameSpaces[m]},getTopNameSpace:function(){return w.last(this.nsStack)},getCurrentNameSpaceString:function(){return m},getFrameNameSpace:function(){return this.nameSpaces[D]},getBlocker:function(e){switch(e){case DS.constants.refs.FRAME:return G.getNamespace(e).frameBlocker;case"LightboxWnd":return G.getNamespace(e).lightBoxBlocker;case"LightboxControlsWnd":return G.getNamespace(e).lightBoxControlsBlocker;default:return null}}};function Q(e){return function(e){if(Array.isArray(e))return e}(e)||X(e)||Y(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e){return function(e){if(Array.isArray(e))return $(e)}(e)||X(e)||Y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function X(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var J,ee=DS,te=ee._,ne=ee.pubSub,ie=ee.events,re={},oe=!1,ae={},le={},se=function(e){try{var t=q(document.styleSheets).find(e);J=q(t.rules)}catch(e){}};if(se((function(e){return null!=e.href&&e.href.includes("output.min.css")})),ne.on(ie.scheme.CHANGED,(function(e){se((function(t){return null!=t.ownerNode&&t.ownerNode.id===e})),ae={},re.initializeCssColorVars()})),null!=J){var ce=function(e,t){var n,i;if(oe){n="".concat(t,".cs-").concat(G.model.frame.default_layout);var r=e.split(" ");i=(r=r.map((function(e){return(e.startsWith(".")?".":"")+te.compact(e.split(".")).reverse().join(".")}))).join(" ")}else{G.model;n=".cs-".concat(G.model.frame.default_layout).concat(t),i=e}return"".concat(n," ").concat(i)};re.getColor=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=ce(t,i);if(null==ae[r]){var o=J.find((function(e){return e.selectorText===r}));null==o&&(oe=!oe,r=ce(t,i),o=J.find((function(e){return e.selectorText===r}))||{}),ae[r]=o.style||{}}return ae[r][n]||""}}else{re.usePolyfill=!0;var ue=function(e,t){var n=document.createElement(e);return n.setAttribute("class",t),n},fe=/^\./,de=/\./g;re.getColor=function(e,t,n){var i,r,o=(arguments.length>4&&void 0!==arguments[4]&&arguments[4]||t).split(/\s+/),a=G.getNamespace(e).wrapper.el;o.forEach((function(e,t){if(fe.test(e))s=e.replace(de," "),i=ue("div",s);else{var n=Q(e.split(".")),o=n[0],l=n.slice(1);i=ue(o,l.join(" "))}var s;0===t&&(i.style.position="absolute",i.style.display="none",r=i),a.appendChild(i),a=i}));var l=window.getComputedStyle(i).getPropertyValue(n);return""===l&&"border-color"===n&&(l=window.getComputedStyle(i).getPropertyValue("border-top-color")),r.parentNode.removeChild(r),l||""}}re.initializeCssColorVars=function(){le={},re.createCssColorVar("--color-messagebox-title-separator",".message-window-header p","border-bottom-color"),re.createCssColorVar("--color-messagebox-button-border",".message-window button.slide-object-button","border-color"),re.createCssColorVar("--color-messagebox-button-hover",".message-window button.slide-object-button:hover","background-color","",".resources .resources-list a.button-tapped")},re.createCssColorVar=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!le[e]){var o="";if(re.usePolyfill){var a=Object.keys(G.nameSpaces);if(0===a.length)return void requestAnimationFrame((function(){re.createCssColorVar(e,t,n,i,r)}));o=a[0]}var l=re.getColor(o,t,n,i,r);if(!te.isEmpty(l)&&e)le[e]=!0,document.getElementById("preso").style.setProperty(e,l)}};var he=re;function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function ye(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,be(i.key),i)}}function be(e){var t=function(e,t){if("object"!==pe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==pe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pe(t)?t:String(t)}var ve=DS,me=ve.detection,ge=ve.pubSub,we=ve.events,Se=327,ke=new(function(){function e(){var t,n,i,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,i=function(){r.scale=Math.min(window.innerWidth/r.ratioW,window.innerHeight/r.ratioH),r.scale>1&&r.preventUpscale&&(r.scale=1),r.scaledRatioH=r.ratioH*r.scale,r.scaledRatioW=r.ratioW*r.scale},(n=be(n="onResize"))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.scale=1,this.ratioW=720,this.ratioH=540,this.isMobileChrome=me.os.isIOS&&me.browser.isChrome,me.deviceView.isMobile?this.isScaled=!0:this.setScaleMode(),DS.flagManager.playerSizeOption&&this.isLockedFit&&(window.addEventListener("resize",this.onResize),this.onResize()),ge.on("frame:modelReady",(function(){var e,t,n,i,o=!G.model.frame.chromeless&&!me.env.hideFrame;r.ratioW=null==G||null===(e=G.model)||void 0===e?void 0:e.slideWidth,r.ratioH=null==G||null===(t=G.model)||void 0===t?void 0:t.slideHeight,r.preventUpscale=null==G||null===(n=G.model)||void 0===n||null===(i=n.frame)||void 0===i?void 0:i.preventUpscale,!G.model.sidebarOpts.closed&&G.model.sidebarOpts.sidebarEnabled||(Se=0),o&&(r.ratioW+=Se,r.ratioH+=130),r.onResize()})),this.setupFullScreen()}var t,n,i;return t=e,(n=[{key:"setupFullScreen",value:function(){var e=this;document.addEventListener("fullscreenchange",(function(){var t,n=null!=document.fullscreenElement,i="preso"===(null===(t=document.fullscreenElement)||void 0===t?void 0:t.id);n&&!i?e.forcePlayerScaled():e.playerScaleIsForced&&e.setScaleMode(),ge.trigger(we.frameWindow.FULLSCREEN,{preso:n&&i})}))}},{key:"setScaleMode",value:function(){this.isLockedFit="LockedFit"===window.globals.scale,this.isLocked="Locked"===window.globals.scale,this.isScaled="Scaled"===window.globals.scale,ge.trigger(we.frame.REFLOW),ge.trigger(we.frame.SCALE)}},{key:"forcePlayerScaled",value:function(){this.isLockedFit=this.isLocked=!1,this.isScaled=!0,this.playerScaleIsForced=!0}},{key:"shouldUseCache",value:function(){return this.isMobileChrome&&document.activeElement.classList.contains("acc-textinput")}},{key:"innerWidth",get:function(){return this.isLockedOption?this.isLocked?this.ratioW:this.scaledRatioW:window.innerWidth}},{key:"innerHeight",get:function(){return this.isLockedOption?this.isLocked?this.ratioH:this.scaledRatioH:window.innerHeight}},{key:"minHeight",get:function(){return Math.min(this.innerHeight,window.innerHeight)}},{key:"minWidth",get:function(){return Math.min(this.minWidth,window.innerWidth)}},{key:"x",get:function(){return this.isLockedOption?Math.max(0,(window.innerWidth-this.innerWidth)/2):0}},{key:"y",get:function(){return this.isLockedOption?Math.max(0,(window.innerHeight-this.innerHeight)/2):0}},{key:"height",get:function(){return this.shouldUseCache()?(this.cachedOuterHeight!==this.outerHeight&&(this.cachedHeight=this.outerHeight-(this.cachedOuterHeight-this.cachedHeight),this.cachedOuterHeight=this.outerHeight),this.cachedHeight):(this.cachedOuterHeight=this.outerHeight,this.cachedHeight=this.innerHeight,this.innerHeight)}},{key:"width",get:function(){return this.innerWidth}},{key:"isLockedOption",get:function(){return DS.flagManager.playerSizeOption&&(this.isLockedFit||this.isLocked)}}])&&ye(t.prototype,n),i&&ye(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}());DS.frameWindow=ke;var Oe=ke;function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Ee(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ce(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ce(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ce(o)?o:String(o)),i)}var r,o}var Le,Te,xe,Pe,Ie,_e=DS,De=_e.dom,je=_e._,Ae=_e.detection,Re=_e.pubSub,Be=_e.events,Me=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),je.bindAll(this,"onLoaderShow","onLoaderMute","onLoaderUnmute","onLoaderHide","onRemoveLoaderTitle");var t={};t[Be.loader.SHOW]=this.onLoaderShow,t[Be.loader.MUTE]=this.onLoaderMute,t[Be.loader.UNMUTE]=this.onLoaderUnmute,t[Be.loader.HIDE]=this.onLoaderHide,t[Be.loader.REMOVE_TITLE]=this.onRemoveLoaderTitle,t[Be.startOverlay.READY]=this.onLoaderHide,De.addClass(document.body,"theme-".concat(window.globals.themeName)),document.body.classList.contains("view-tablet")&&De.addClass(document.body,"is-touchable-tablet"),Ae.env.is360&&!Oe.isLockedOption&&De.addClass(document.body,"is-360"),Re.on(t),this.setupBrandingColor()}var t,n,i;return t=e,(n=[{key:"setupBrandingColor",value:function(){window.requestAnimationFrame((function(){var e=he.getColor(DS.constants.refs.FRAME,".cs-brandhighlight-bg","background-color",".cs-base.cs-custom-theme");null!=e&&(DS.constants.theme.brandingHighlight=e,Re.trigger(Be.app.BRANDING_COLOR,e))}))}},{key:"onRemoveLoaderTitle",value:function(){var e=document.querySelector("body > .mobile-load-title-overlay");null!=e&&e.parentNode.removeChild(e)}},{key:"getSpinLoader",value:function(){return document.querySelector("body > .slide-loader")}},{key:"onLoaderMute",value:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=0)}},{key:"showLoaderDelayed",value:function(e){clearTimeout(this.loaderTimeout),this.loaderTimeout=setTimeout(this.onLoaderShow,e)}},{key:"onLoaderHide",value:function(){clearTimeout(this.loaderTimeout),this.getSpinLoader().style.display="none",De.addClass(document.getElementById("preso"),"hide-slide-loader"),Re.trigger(Be.app.HIDE_LOADER)}},{key:"onLoaderUnmute",value:function(){var e=this.getSpinLoader();null!=e&&(e.style.opacity=1)}},{key:"onLoaderShow",value:function(e){e>0?this.showLoaderDelayed(e):(this.getSpinLoader().style.display="block",De.removeClass(document.getElementById("preso"),"hide-slide-loader"),Re.trigger(Be.app.SHOW_LOADER))}}])&&Ee(t.prototype,n),i&&Ee(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),He=DS,Ne=He.globalEventHelper.addWindowListener,Fe=He.events,Ve=Fe.ds,Ue=Ve.FRAME_DATA_LOADED,We=Ve.PRESO_READY,ze=Fe.window.STACKING_CHANGED,Ze=Fe.frame,Ke=Ze.MODEL_READY,Ge=Ze.SCALE,Qe=Fe.resume.SET_DATA,qe=Fe.startOverlay.READY,Ye=Fe.controlOptions.RESET,Xe=Fe.sidebar.ACTIVE_TAB_SET,$e=Fe.renderTree.DESTROYED,Je=He.constants,et=(Je.els.PRESO,Je.refs.FRAME),tt=He.detection.theme,nt=He.pubSub,it=He.focusManager,rt=(He.flagManager,He.playerGlobals),ot=He.stringTabler,at=He.shortcutManager,lt=He.dom,st={},ct=function(e){var t=G.nsStack.indexOf(e);t>=0&&G.nsStack.splice(t,1)},ut=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];G.nsStack.forEach((function(t,n,i){t.tabReachable=n===i.length-1&&e,t.updateTabIndex()}))},ft=function(e){Le={createWindow:function(t,n){var i,r,o,a,l,s=this,c=G.getNamespace(t),u=function(){return function(e){var t=G.getNamespace(e),n=t.isAttached;t.reattach(),ct(t),G.nsStack.push(t),n||st[e].all();var i=G.nsStack.length;G.nsStack.forEach((function(e,t){var n=e.slide.el;t===i-1?(lt.addClass(n,"primary-slide"),lt.removeClass(n,"secondary-slide")):(lt.removeClass(n,"primary-slide"),lt.addClass(n,"secondary-slide"))})),ut(),nt.trigger(ze,e)}(t)},f=function(e,n,i){if(e===t){var r=i?i.getWndBlockerBackground():"",o=G.getBlocker(e);null!=o&&(o.setBackgroundColor(r),o.setVisibility(n)),c.tabReachable=!n,c.updateTabIndex(!1,!0)}};(null==c&&(G.addNameSpace(t),r=e[t](Te),i=_.flow(Ne("resize",(function(){r.resize(),nt.trigger(Ge)})),DS.pubSub.addListener(DS.events.utilityWindow.DOCKED,(function(){r.resize(),nt.trigger(Ge)}))),t===et?Te.setLayout(Te.frame.default_layout,et):r.all(),c=G.getNamespace(t),st[t]=r,c.moveToTop=u,tt.isUnified&&(nt.on(DS.events.frameModel.BLOCKED_CHANGED,f),nt.on(DS.events.window.MAIN_CHANGED,(function(e,t){return f(t,!1)})))),u(),nt.on(Ye,(function e(){var t=function(){var e=[],t=G.getNamespace(et).tabs.viewLogic.getSelectedTab();return t&&e.push(t.nameKey),_.each(G.getNamespace(et).topTabs.children,(function(t){_.each(_.filter(t.children,"viewLogic.showing",!0),(function(t){return e.push(t.nameKey)}))})),e}();ct(G.getNamespace(et)),r.destroy(),DS.pubSub.trigger($e),G.nameSpaces[et]=null,i(),nt.off(Ye,e),s.createWindow("_frame"),r.rerender(),t.forEach((function(e){nt.trigger(Xe,e)}))})),null!=n)&&(null===(o=c.slide)||void 0===o||null===(a=o.viewLogic)||void 0===a||null===(l=a.setPromptId)||void 0===l||l.call(a,n));return{id:t,promptId:n,el:c.slide.el,wndEl:c.wrapper.el,captionEl:(c.captionContainer||{}).el,x:function(){return c.wrapper.x},y:function(){return c.wrapper.y},close:function(){c.zoomBounds=null,c.detach(),ct(c),G.nsStack[G.nsStack.length-1].moveToTop(),it.reCenter()},moveToTop:u,getWinScale:function(){return c.slide.winScale||1},getPinchZoomBounds:function(){return c.slide.pinchZoomBounds},onPinchZoom:st[t].pinchZoom?function(e){c.zoomBounds=e,st[t].pinchZoom()}:function(){},onWndBlockedChanged:f}},getSidebarPosition:function(){return Te.sidebarOpts.sidebarPos},getDefaultLayout:function(){return xe.default_layout},getFonts:function(){return xe.fonts},getFontScale:function(){return Te.frame.fontscale},getCaptionData:function(){var e=Te.frame.controlOptions.controls,t={font:e.font,enabled:e.closed_captions},n=Te.frame.controlOptions.ccOptions||{};return t.font=n.font,t.size=n.size,t.placement=n.placement,t.backgroundColor=n.backgroundColor,t.color=n.color,t.text=n.text,t},getNavData:function(){return Te.frame.navData.outline.links},isReadOnlyOnce:function(){return xe.controlOptions.controls.readonlyOnce},topmostUnreachable:function(){return G.nsStack},setAllAccVisibility:function(e){_.forEach(G.nameSpaces,(function(t){var n=t.wrapper;e?n.el.removeAttribute("aria-hidden"):n.el.setAttribute("aria-hidden",!0)}))}},nt.on(Qe,ut),nt.on(qe,(function(){ut(!1)})),rt.player=Le},dt=function(){Le.hasData=!0,nt.trigger(Ue,Le)},ht="wrapper";G.def(ht,(function(){return{attrs:{id:ht,class:ht},x:0,y:0,w:function(){return Oe.width},h:function(){return Oe.height},add:!0}}));var pt,yt="-20px",bt="-30px";var vt={setTooltipOn:function(e,t,n){var i,r,o=t.left,a=t.top,l=t.width,s=t.height;null==Ie&&(i=G.model,r=he.getColor(DS.constants.refs.FRAME,".cs-button .cs-icon","fill"),(Ie=document.createElement("div")).id="tooltip",Ie.style.left=yt,Ie.style.top=bt,Ie.style.borderColor=r,Ie.classList.add("cs-base","cs-".concat(i.frame.default_layout)),document.getElementById("app-top").appendChild(Ie),Ie.addEventListener("mouseleave",vt.runObjHoverOut)),pt=e,Ie.style.display="block",Ie.innerText=n;var c=Ie.getBoundingClientRect().width,u=window.innerWidth,f=o+(l/2-c/2);f+c>=u-10?f=u-10-c:f<=10&&(f=10);var d=a-(s+10);d<=10&&(d=a+s+10),Ie.style.left="".concat(f,"px"),Ie.style.top="".concat(d,"px")},hideTooltip:function(e){null==Ie||null!=e&&e!==pt||(Ie.style.display="none",Ie.innerText="",Ie.style.left=0,pt=void 0)},updateTooltip:function(e,t){var n=Ie.getBoundingClientRect().width;Ie.innerText=t,Ie.style.left="".concat(e-n/2,"px")},runObjHoverOut:function(){null!=pt?pt.onHoverOut():vt.hideTooltip()}},mt=vt;function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function wt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==gt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==gt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===gt(o)?o:String(o)),i)}var r,o}var St=DS,kt=St.dom,Ot=St.pubSub,Ct=St.events,Et=St._,Lt=St.constants,Tt=St.keyManager,xt=St.focusManager,Pt=(St.flagManager,St.stringTabler),It=St.detection,_t="click",Dt=function(){return It.deviceView.isUnifiedDesktop},jt=function(){function e(t){var n=this;for(var i in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t.el,this.view=t,this.model=t.model,t.children)this[i+"El"]=t.children[i].el;DS.flagManager.localizationPlatform?(t.simpleView||(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),Ot.on(Ct.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),Ot.on(Ct.strings.UPDATE_STRINGS,(function(){return n.onStringsUpdated()}))):(DS._.bindAll(this,"onFocus","onBlur","onLayoutChange"),this.el.addEventListener("focusin",this.onFocus),this.el.addEventListener("focusout",this.onBlur),Ot.on(Ct.frameModel.LAYOUT_CHANGED,this.onLayoutChange)),Dt()&&(Et.bindAll(this,"onHoverIn","onHoverOut","onMainKeydown"),document.body.addEventListener("mouseenter",this.onHoverOut),this.el.addEventListener("mouseenter",this.onHoverIn),this.el.addEventListener("mouseleave",this.onHoverOut),this.hasTooltip&&this.el.addEventListener("mouseup",this.onHoverOut),document.addEventListener("keydown",this.onMainKeydown))}var t,n,i;return t=e,(n=[{key:"onClick",value:function(e){this.el.addEventListener(_t,e.bind(this))}},{key:"onClickEl",value:function(e,t){e.addEventListener(_t,t.bind(this))}},{key:"on",value:function(e,t){this.el.addEventListener(e,t.bind(this))}},{key:"getViewBox",value:function(){return this.view.getBox()}},{key:"onFocus",value:function(e){var t=this.getViewBox(),n=t.x,i=t.y,r=t.w,o=t.h;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(n-=window.scrollX,i-=window.scrollY),xt.setFocusRectOn(this.el,{left:n,top:i,width:r,height:o}),this.onHoverIn(e),this.hasFocus=!0}},{key:"onBlur",value:function(e){xt.takeFocusOff(),this.onHoverOut(e),this.hasFocus=!1}},{key:"getTooltipString",value:function(){return Pt.getString(this.tooltipKey)}},{key:"onHoverIn",value:function(e){var t=this;if(Dt()&&this.hasTooltip&&(null==this.hideTooltipWhenOpen||!this.isOpen)){var n=this.getTooltipString(e);if(null==n&&"seek"===this.view.nameKey)return void setTimeout((function(){return t.onHoverIn(e)}),200);mt.hideTooltip();var i=this.getViewBox(e),r=i.x,o=i.y,a=i.w,l=i.h;DS.flagManager.playerSizeOption&&DS.detection.deviceView.isDesktop&&(r-=window.scrollX,o-=window.scrollY),mt.setTooltipOn(this,{left:r,top:o,width:a,height:l},n),this.tooltipMoves&&this.setForFollowMouse(),this.tooltipOn=!0}}},{key:"dismissTooltip",value:function(){mt.hideTooltip(this),this.tooltipMoves&&this.stopFollowMouse(),this.tooltipOn=!1}},{key:"onHoverOut",value:function(){var e=this;Dt()&&this.hasTooltip&&this.tooltipOn&&setTimeout((function(){var t=document.elementFromPoint(kt.mouseX,kt.mouseY);null!=t&&(e.el.contains(t)||"tooltip"===t.id||e.dismissTooltip())}),200)}},{key:"onMainKeydown",value:function(e){Tt.isKey(e.which,Lt.keys.ESCAPE)&&(e.stopPropagation(),this.dismissTooltip())}},{key:"teardown",value:function(){Ot.off(Ct.frameModel.LAYOUT_CHANGED,this.onLayoutChange),It.deviceView.isUnifiedDesktop&&(document.body.removeEventListener("mouseenter",this.onHoverOut),this.el.removeEventListener("mouseenter",this.onHoverIn),this.el.removeEventListener("mouseleave",this.onHoverOut),this.el.removeEventListener("mousedown",this.dismissTooltip),document.removeEventListener("keydown",this.onMainKeydown),this.tooltipOn&&(this.onHoverOut(),this.tooltipMoves&&this.stopFollowMouse()))}},{key:"onLayoutChange",value:function(){}},{key:"onStringsUpdated",value:function(){this.view.updateStrings()}}])&&wt(t.prototype,n),i&&wt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function At(e){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(e)}function Rt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==At(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==At(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===At(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bt=DS,Mt=Bt._,Ht=Bt.pubSub,Nt=Bt.events,Ft=Bt.detection,Vt=Bt.constants.MOBILE_UI_SIZE,Ut="top ".concat(150,"ms ease-in-out");function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function zt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Wt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Wt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Wt(o)?o:String(o)),i)}var r,o}function Zt(e,t){return Zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zt(e,t)}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Qt(e);if(t){var r=Qt(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Wt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gt(e)}(this,n)}}function Gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(e){return Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qt(e)}var qt=DS,Yt=qt.pubSub,Xt=qt.events,$t=qt._,Jt=qt.utils,en=(qt.flagManager,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zt(e,t)}(o,e);var t,n,i,r=Kt(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),$t.bindAll(Gt(t),"onSlideChange","onAriaToggle"),Yt.on(Xt.slide.HAS_MOUNTED,t.onSlideChange),Yt.on(Xt.slide.ARIA_TOGGLE,t.onAriaToggle),t.teardownPushableSlide=function(e){var t;if(!Ft.deviceView.isPhone)return Mt.noop;function n(){e.view.el.style.transition=null,e.view.el.style.top="0px"}function i(t){e.view.el.style.transition=Ut;var n=.45*window.innerHeight-10,i=-(e.view.bottom()-n),r=e.view.y+i,o=0;r<Vt&&Ft.theme.isUnified?o=Vt-r+10:r<0&&(o=-1*r+10),e.view.el.style.top="".concat(i+o,"px")}function r(){e.view.el.style.transition=Ut,e.view.el.style.top="".concat(0,"px")}return Ht.on((Rt(t={},Nt.threeSixtyImage.UN_PUSH_LABEL,n),Rt(t,Nt.threeSixtyImage.PUSH_UP_BY_LABEL,i),Rt(t,Nt.threeSixtyImage.PUSH_DOWN_BY_LABEL,r),t)),function(){n(),Ht.off(Nt.threeSixtyImage.UN_PUSH_LABEL,n),Ht.off(Nt.threeSixtyImage.PUSH_UP_BY_LABEL,i),Ht.off(Nt.threeSixtyImage.PUSH_DOWN_BY_LABEL,r)}}(Gt(t)),t}return t=o,(n=[{key:"onAriaToggle",value:function(e){e.hidden?(this.el.setAttribute("aria-hidden",!0),this.el.setAttribute("tabindex",0)):(this.el.removeAttribute("aria-hidden"),this.el.removeAttribute("tabindex"))}},{key:"teardown",value:function(){Yt.off(Xt.slide.HAS_MOUNTED,this.onSlideChange),this.teardownPushableSlide()}},{key:"onSlideChange",value:function(e){null!=this.labelEl&&this.view.nameSpace===e.props.windowId&&(this.labelEl.textContent="".concat(G.model.getString("slide"),": ").concat(Jt.stripTags(e.props.model.title())))}},{key:"onFocus",value:function(){}},{key:"onBlur",value:function(){}}])&&zt(t.prototype,n),i&&zt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt)),tn=DS,nn=tn.constants.MOBILE_UI_SIZE,rn=tn.detection.orientation,on="slide";G.def(on,en,(function(e){var t=G.model;G.getNamespace(e).optionPane;return{attrs:{id:on,class:on},methods:{getAvailableWidth:function(){return Oe.width-(rn.isLandscape?nn:0)},getAvailableHeight:function(){return Oe.height-(rn.isLandscape?0:nn)}},winScale:function(){var e=t.slideWidth,n=t.slideHeight;return Math.min(this.getAvailableWidth()/e,this.getAvailableHeight()/n)},origin:"0 0",w:function(){return t.slideWidth*this.winScale},h:function(){return t.slideHeight*this.winScale},x:function(){return(this.getAvailableWidth()-this.w)/2},y:function(){return(this.getAvailableHeight()-this.h)/2},z:1,overflow:"visible",add:!0,html:'<div id="slide-label" data-ref="label" aria-live="polite"></div>\n      <main class="slide-container" data-ref="container" aria-live="off" tabindex="-1"></main>'}}));var an="frame";function ln(e){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(e)}function sn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==ln(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ln(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===ln(o)?o:String(o)),i)}var r,o}function cn(e,t){return cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cn(e,t)}function un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=dn(e);if(t){var r=dn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ln(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fn(e)}(this,n)}}function fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dn(e){return dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dn(e)}G.def(an,(function(){return{attrs:{id:an},x:0,y:0,w:"100%",h:"100%",z:2}}));var hn=DS,pn=hn.detection,yn=hn._,bn=hn.pubSub,vn=hn.events,mn=hn.globalEventHelper.addWindowListener,gn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cn(e,t)}(o,e);var t,n,i,r=un(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),yn.bindAll(fn(t),"onLayoutReady"),pn.deviceView.isTablet&&mn("resize",(function(){window.requestAnimationFrame((function(){t.view.update()}))})),bn.on(vn.frame.LAYOUT_READY,t.onLayoutReady),t}return t=o,(n=[{key:"onLayoutReady",value:function(e){this.view.layout=e}},{key:"teardown",value:function(){bn.off(vn.frame.LAYOUT_READY,this.onLayoutReady)}}])&&sn(t.prototype,n),i&&sn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt),wn=DS,Sn=wn.constants.MOBILE_UI_SIZE,kn=wn.detection,On=kn.deviceView.isPhone,Cn=kn.orientation,En=wn.dom,Ln="optionPane";G.def(Ln,gn,(function(e){G.model;var t=G.getNamespace(e),n=t.fullScreenOpen,i=t.captions,r=t.settings,o=t.seek,a=t.playPause,l=t.submit,s=t.next,c=t.prev;return{tag:"section",attrs:{id:Ln,class:_.kebabCase(Ln)},wl:function(){return Sn},wp:function(){return window.innerWidth},hl:function(){return window.innerHeight},hp:function(){return Sn},xl:function(){return window.innerWidth-Sn},xp:0,yl:0,yp:function(){return window.innerHeight-Sn},z:4,childVisibilityChangedHook:function(){this.update()},methods:{moveButtonsToOverflow:function(){var e=[n,i,r,a,l,s,c].filter((function(e){return e&&e.visible}));this.applyOverflowVisibility(e,[i])},applyOverflowVisibility:function(e,t){for(this.ctrlOverflow=[];e.length>5&&t.length>0;){var n=t.pop(),i=e.indexOf(n);i>=0&&(e.splice(i,1),n.setVisibility(!1),this.ctrlOverflow.push(n),En.addClass(this.el,"".concat(n.nameKey,"-overflow")))}return e},revertOverflowVisibility:function(){var e=this;null!=this.ctrlOverflow&&this.ctrlOverflow.forEach((function(t){t.setVisibility(t.layoutDefaultVisible),En.removeClass(e.el,"".concat(t.nameKey,"-overflow"))}))}},updateHook:function(){if(this.hasAllChildren())if(On&&(this.revertOverflowVisibility(),this.moveButtonsToOverflow()),Cn.isPortrait){this.layout.seek&&o.setVisibility(!0),o.width=0;var e=this.calcChildrensWidth();o.width=this.w-e,this.flowChildren({sizeToChildren:!0,reverse:!1})}else o.setVisibility(!1),this.flowChildren({vertical:!0,sizeToChildren:!0,reverse:!1})},overflow:"visible"}}));var Tn=function(){return"no icon"},xn={hamburger:function(){return'<svg class="cs-icon hamburger-icon" width="40" height="36" viewBox="0 0 40 36" focusable="false">\n    <g id="icon-menu-mobile">\n    <rect width="40" height="4"></rect>\n    <rect y="16" width="40" height="4"></rect>\n    <rect y="32" width="40" height="4"></rect>\n    </g>\n  </svg>'},play:function(){return'<svg class="cs-icon play-icon" width="13" height="15" viewBox="0 0 13 15" focusable="false">\n    <path id="icon-play" d="M 13 7.15 L 2 0 2 14.3 13 7.15 Z"/>\n  </svg>'},next:function(){return'<svg className="cs-icon pause-icon" width="40" height="36" viewBox="0 0 40 36" focusable="false">\n    <path transform="translate(0, -5)" d="M39.414,16.587L22.826,0L20,2.826L33.175,16H0v4h33.175L20,33.174L22.826,36l16.588-16.587C40.195,18.633,40.195,17.368,39.414,16.587z"/>\n  </svg>'},prev:function(){return'<svg class="cs-icon prev-mobile-icon" width="40" height="36" viewBox="0 0 40 36" focusable="false">\n    <path transform="translate(0, -5)" d="M0.586,19.413L17.174,36L20,33.174L6.825,20H40v-4H6.825L20,2.826L17.174,0L0.586,16.587C-0.195,17.367-0.195,18.632,0.586,19.413z"/>\n  </svg>'},pause:function(){return'<svg class="cs-icon pause-icon" width="12" height="14" viewBox="0 0 12 14" focusable="false">\n    <g id="icon-pause">\n      <rect x="0" width="4" height="14"/>\n      <rect x="8" width="4" height="14"/>\n    </g>\n  </svg>'},submit:function(){return'<svg class="cs-icon submit-icon" width="40" height="30" viewBox="0 0 40 30" focusable="false">\n    <path transform="translate(0, -5)" d="M12.685,30c-0.538,0-1.053-0.218-1.429-0.604L0,17.832l2.857-2.8l9.827,10.097L37.143,0L40,2.8L14.114,29.396C13.738,29.782,13.222,30,12.685,30z"/>\n  </svg>'},close:function(){return'\n    <svg class="cs-icon icon-close" width="36" height="36" viewBox="0 0 36 36" focusable="false">\n      <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n    </svg>'},captions:function(e){return'<svg class="cs-icon caption-icon" width="22px" height="20px" viewBox="0 0 22 20" focusable="false">\n    <g stroke="none" stroke-width="1" fill-rule="evenodd" focusable="false">\n      <g>\n        <path d="M14.8517422,14 L20.008845,14 C21.1103261,14 22,13.1019465 22,11.9941413 L22,2.00585866 C22,0.897060126 21.1085295,0 20.008845,0 L1.991155,0 C0.889673948,0 0,0.898053512 0,2.00585866 L0,11.9941413 C0,13.1029399 0.891470458,14 1.991155,14 L8.09084766,14 L11.4712949,17.3804472 L14.8517422,14 Z M3,4 L13,4 L13,6 L3,6 L3,4 Z M14,4 L19,4 L19,6 L14,6 L14,4 Z M19,8 L8,8 L8,10 L19,10 L19,8 Z M7,8 L3,8 L3,10 L7,10 L7,8 Z"></path>\n      </g>\n    </g>\n  </svg>'},disableOrientation:function(){return'<svg viewBox="0 0 161 135">\n    <g stroke="none" stroke-width="1" fill="#fff" fill-rule="evenodd">\n      <path d="M59,31.9948589 C59,30.340844 60.3408574,29 62.0069809,29 L99.9930191,29 C101.653729,29 103,30.3364792 103,31.9948589 L103,103.005141 C103,104.659156 101.659143,106 99.9930191,106 L62.0069809,106 C60.3462712,106 59,104.663521 59,103.005141 L59,31.9948589 Z M61,36 L101,36 L101,96 L61,96 L61,36 Z M81,104 C82.6568542,104 84,102.656854 84,101 C84,99.3431458 82.6568542,98 81,98 C79.3431458,98 78,99.3431458 78,101 C78,102.656854 79.3431458,104 81,104 Z M76,32.5 C76,32.2238576 76.2276528,32 76.5096495,32 L85.4903505,32 C85.7718221,32 86,32.2319336 86,32.5 C86,32.7761424 85.7723472,33 85.4903505,33 L76.5096495,33 C76.2281779,33 76,32.7680664 76,32.5 Z"></path>\n      <path d="M144.276039,68.4976037 C143.65768,83.6270348 137.530567,98.6224671 125.961909,110.191125 C101.576936,134.576098 62.1020027,134.704192 37.8006658,110.402855 L37.8275751,110.429765 L33.4090737,114.848266 L33.3821643,114.821357 C60.1400795,141.579272 103.595566,141.480117 130.445572,114.630111 C143.247134,101.828549 149.95913,85.2399018 150.581333,68.4976037 L161.373625,68.4976037 L147.23149,54.3554681 L133.089354,68.4976037 L144.276049,68.4976037 Z"></path>\n      <path d="M17.2900541,66.5559885 C17.8833587,51.3895735 24.012088,36.3498513 35.6085461,24.7533932 C59.9935191,0.36842015 99.4684528,0.240325436 123.76979,24.5416624 L123.74288,24.514753 L128.161382,20.0962516 L128.188291,20.1231609 C101.430376,-6.63475424 57.9748898,-6.5355989 31.1248839,20.314407 C18.2955218,33.1437691 11.582203,49.7766814 10.9851551,66.5559885 L0.259994507,66.5559885 L14.4021301,80.6981242 L28.5442658,66.5559885 L17.2900541,66.5559885 Z"></path>\n    </g>\n  </svg>'},search:function(){return'<svg class="cs-icon search-icon" width="22" height="22" viewBox="0 0 40 40" focusable="false">\n    <g id="icon-search" transform="translate(4, 0)">\n      <path d="M14.1378906,27.4473684 C21.6653507,27.4473684 27.7757813,21.4196023 27.7757813,13.9736842 C27.7757813,6.52776609 21.6653507,0.5 14.1378906,0.5 C6.61043053,0.5 0.5,6.52776609 0.5,13.9736842 C0.5,21.4196023 6.61043053,27.4473684 14.1378906,27.4473684 L14.1378906,27.4473684 Z M14.1378906,24.4473684 C8.25820695,24.4473684 3.5,19.7535325 3.5,13.9736842 C3.5,8.19383595 8.25820695,3.5 14.1378906,3.5 C20.0175743,3.5 24.7757813,8.19383595 24.7757813,13.9736842 C24.7757813,19.7535325 20.0175743,24.4473684 14.1378906,24.4473684 L14.1378906,24.4473684 Z" ></path>\n      <path d="M20.887408,24.4494377 L31.4348235,34.8541634 L32.5026823,35.9075758 L34.609507,33.7718582 L33.5416482,32.7184459 L22.9942327,22.3137202 L21.9263739,21.2603078 L19.8195492,23.3960254 L20.887408,24.4494377 L20.887408,24.4494377 Z" ></path>\n    </g>\n  </svg>'},enterFullScreen:function(){return'<svg class="cs-icon enter-fullscreen-icon" width="25" height="25" viewBox="0 0 32 32" focusable="false">\n    <g>\n      <path d="M0,0 L12,0 L12,3 L3,3 L3,12 L0,12 L0,0 Z"/>  \n      <path d="M20,0 L32,0 L32,12, L29,12, L29,3, L20,3, L20,0 Z"/>\n      <path d="M0,20 L3,20 L3,29, L12,29, L12,32, L0,32, L0,20 Z"/>\n      <path d="M29,20 L32,20 L32,32, L20,32, L20,29, L29,29, L29,20 Z"/>\n    </g>\n  </svg>'},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false">\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    '},track:function(e){return'\n      <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false">\n        <defs>\n            <rect id="'.concat(e,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n            <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(e,'-trackFilter">\n                <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n                <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n                <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n                <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n            </filter>\n        </defs>\n        <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#303030" fill-rule="evenodd" xlink:href="#').concat(e,'-track"></use>\n                <use fill="black" fill-opacity="1" filter="url(#').concat(e,'-trackFilter)" xlink:href="#').concat(e,'-track"></use>\n                <use stroke="#595959" stroke-width="1" xlink:href="#').concat(e,'-track"></use>\n                <circle fill="#B4B4B4" stroke-width="0" cx="8" cy="8" r="5"></circle>\n            </g>\n        </g>\n        <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <use fill="#505050" fill-rule="evenodd" xlink:href="#').concat(e,'-track"></use>\n                <use fill="black" fill-opacity="1" filter="url(#').concat(e,'-trackFilter)" xlink:href="#').concat(e,'-track"></use>\n                <use stroke="#595959" stroke-width="1" xlink:href="#').concat(e,'-track"></use>\n                <circle fill="#6EBBEF" stroke-width="0" cx="16" cy="8" r="6"></circle>\n            </g>\n        </g>        \n    </svg>\n    ')},downArrow:function(){return'\n      <svg width="22px" height="11px" viewBox="0 0 22 11" focusable="false">\n        <path d="M 0 0 L 11 11 22 0" fill="#191c1d"/>\n      </svg>\n    '}},Pn=function(e){return xn[e]||Tn},In=function(e){var t=G.model.frame.controlOptions.controls.search;return'\n    <button\n      class="hamburger"\n      aria-expanded="false"\n      data-ref="burger"\n      aria-label="'.concat(G.model.getString("sidebar_toggle"),'">\n        ').concat(Pn("hamburger")(),"\n    </button>\n    ").concat(t?function(e){return'\n    <button\n      class="search-toggle-btn search-toggle-'.concat(e,'"\n      aria-pressed="false"\n      data-ref="searchBtn"\n      aria-label="').concat(G.model.getString("search_toggle"),'">\n        ').concat(Pn("search")(),"\n    </button>")}(e):"","\n  ")},_n=DS.constants.MOBILE_UI_SIZE,Dn="hamburger";function jn(e){return jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(e)}function An(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==jn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==jn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===jn(o)?o:String(o)),i)}var r,o}G.def(Dn,(function(){G.model;return{attrs:{id:Dn},x:0,y:0,w:_n,h:_n,overflow:"visible",updateHook:function(){var e,t,n,i,r,o;this.setEnabled((e=G.model,t=e.topTabsLeft,n=e.topTabsRight,i=e.sidebarTabs,r=e.currControlLayout,o=function(e){return e.some((function(e){var t=e.name,n=r[t];return"outline"===t?n.enabled:"customlink"===t||n}))},o(t)||o(n)||o(i)))},html:In("portrait")}}));var Rn=DS,Bn=Rn._,Mn=Rn.pubSub,Hn=Rn.events,Nn=Rn.dom.toggleClasses,Fn=(Rn.shortcutManager,function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.view=t,Bn.bindAll(this,"onSlideChanged","onTimelineChanged","onPlaybackChanged"),Mn.on(Hn.slide.STARTED,this.onSlideChanged)}var t,n,i;return t=e,(n=[{key:"teardown",value:function(){Mn.off(Hn.slide.STARTED,this.onSlideChanged)}},{key:"onTimelineChanged",value:function(e,t){e!==this.currTimeline&&(Mn.trigger(Hn.playbackControls.TIMELINE_CHANGED,e,t),null!=this.currTimeline&&(this.currTimeline.off(Hn.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.off(Hn.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.off(Hn.timeline.ENDED,this.onPlaybackChanged)),this.currTimeline=e,this.currTimeline.on(Hn.timeline.PLAYING,this.onPlaybackChanged),this.currTimeline.on(Hn.timeline.PAUSED,this.onPlaybackChanged),this.currTimeline.on(Hn.timeline.ENDED,this.onPlaybackChanged),this.onPlaybackChanged())}},{key:"onPlaybackChanged",value:function(){var e=this.view.children,t=e.reset,n=e.playPause,i=null!=this.currTimeline&&"playing"===this.currTimeline.playbackState();Nn(document.body,"timeline-playing","timeline-paused",i),Nn(document.body,"has-reset","no-reset",this.view.visible&&null!=t&&t.visible),null!=n&&n.viewLogic.onPlaybackChanged()}},{key:"onSlideChanged",value:function(e,t,n){this.view.el.tabIndex=0,this.view.el.tabIndex=-1,this.view.nameSpace===n&&(null!=this.currSlide&&this.currSlide.off(Hn.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.currSlide=t,this.currSlide.on(Hn.slide.CURRENT_TIMELINE,this.onTimelineChanged),this.onTimelineChanged(t.currentTimeline(),t))}}])&&An(t.prototype,n),i&&An(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()),Vn=DS,Un=Vn.constants.MOBILE_UI_SIZE,Wn=Vn.detection.orientation,zn="playbackControls";function Zn(e){return Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zn(e)}function Kn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,$n(i.key),i)}}function Gn(e,t){return Gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gn(e,t)}function Qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Yn(e);if(t){var r=Yn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Zn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qn(e)}(this,n)}}function qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yn(e){return Yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yn(e)}function Xn(e,t,n){return(t=$n(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $n(e){var t=function(e,t){if("object"!==Zn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Zn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zn(t)?t:String(t)}G.def(zn,Fn,(function(e){var t=G.getNamespace(e),n=t.hamburger,i=t.seek,r=G.model,o=(r.rtl,r.currControlLayout);o.pauseplay,o.seekbar;return{attrs:{id:zn,"aria-label":"playback controls"},visibility:"no-reflow",overflow:"visible",x:0,yp:0,yl:function(){return null!=n?Un:0},wp:function(){return this.width+(i.visible?0:i.w)||0},wl:"100%",hp:"100%",hl:function(){return this.height||0},noUpdate:!0,updateHook:function(){this.flowChildren({fullUpdate:!0,reverse:!1,sizeToChildren:!0,startPos:0,vertical:Wn.isLandscape});var e=this.children.some((function(e){return e.visible}));this.setVisibility(e)}}}));var Jn=DS,ei=Jn._,ti=Jn.events,ni=Jn.pubSub,ii=Jn.detection,ri=Jn.dom.tappedClass,oi=Jn.keyManager,ai=Jn.stringTabler,li=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gn(e,t)}(o,e);var t,n,i,r=Qn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Xn(qn(t=r.call(this,e)),"hasTooltip",!0),Xn(qn(t),"onTap",(function(e){ri(t.el)})),Xn(qn(t),"onClickBtn",(function(e){1!==t.currTimeline.progress()?t.currTimeline.togglePlayback():ii.theme.isUnified&&t.currTimeline.reset()})),Xn(qn(t),"onKeydown",(function(e){var t=e.which;oi.isSeekKey(t)&&ni.trigger(ti.player.SEEK,e)})),Xn(qn(t),"onPlaybackChanged",(function(){t.updateToggle(),t.updateView()})),ei.bindAll(qn(t),"onTimelineChanged"),ni.on(ti.player.TOGGLE_PLAYBACK,t.onClickBtn),ni.on(ti.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),ii.deviceView.isMobile&&t.onClick(t.onTap),t.onClick(t.onClickBtn),t.el.addEventListener("keydown",t.onKeydown),t.view.toggle=!0,ii.deviceView.isMobile&&ni.on(ti.currTimeline.TICK,t.onTick.bind(qn(t))),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.view.toggle?"acc_pause":"acc_play"}},{key:"teardown",value:function(){ni.off(ti.currTimeline.TICK,this.onTick.bind(this))}},{key:"onTick",value:function(e){null!=this.circleProgress&&this.circleProgress.setAttribute("d",DS.svgUtils.wheelPath(17,17,17,0,360*e)),this.lastProgress=e}},{key:"updateView",value:function(){this.view.updateHtml(),this.circleProgress=this.el.querySelector(".circle-progress path"),this.onTick(this.lastProgress)}},{key:"updateToggle",value:function(){this.view.toggle="playing"===this.currTimeline.playbackState(),this.view.el.setAttribute("aria-pressed",!this.view.toggle),this.view.el.setAttribute("aria-label",ai.getString(this.view.toggle?"acc_pause":"acc_play"))}},{key:"onTimelineChanged",value:function(e){this.currTimeline=e,this.view.toggle=this.currTimeline.isPlaying(),this.updateView()}}])&&Kn(t.prototype,n),i&&Kn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt),si=DS.constants.MOBILE_UI_SIZE,ci="playPause";function ui(e){return ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ui(e)}function fi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,bi(i.key),i)}}function di(e,t){return di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},di(e,t)}function hi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=yi(e);if(t){var r=yi(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ui(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pi(e)}(this,n)}}function pi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yi(e){return yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yi(e)}function bi(e){var t=function(e,t){if("object"!==ui(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ui(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ui(t)?t:String(t)}G.def(ci,li,(function(){var e=G.model;return{attrs:{id:ci,class:"play-pause-btn content-center cs-button","aria-pressed":!1,"aria-label":"".concat(e.getString("acc_play"),"/").concat(e.getString("acc_pause")),tabindex:-1},tag:"button",style:{background:"transparent",border:"none"},updateHook:function(){this.el.setAttribute("aria-pressed",!this.toggle)},html:function(){return'\n        <div style="transform:translate(0, -2px)">\n          '.concat(this.toggle?Pn("pause")():Pn("play")(),'\n        </div>\n\n        <svg class="circle-progress" width="38" height="38" viewBox="0 0 38 38">\n          <circle\n            cx="17" cy="17" r="17"\n            fill="#464646"\n            stroke="none" />\n\n          <path\n            d="M 0 0"\n            transform="rotate(-90 17 17)"\n            fill="white"\n            stroke="none" />\n\n          <circle\n            cx="17" cy="17" r="14.5"\n            fill="#31373a"\n            stroke="none" />\n        </svg>\n      ')},minW:si,minH:si,z:1}}));var vi=DS,mi=vi.detection,gi=vi.dom,wi=vi.pubSub,Si=vi.events,ki={next:"acc_next_visual",prev:"acc_previous_visual",submit:"acc_submit"},Oi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&di(e,t)}(o,e);var t,n,i,r=hi(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=pi(t),a=!0,(i=bi(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,mi.deviceView.isMobile&&t.onClick(t.onTap),t.onClick(t.onClickBtn),t}return t=o,(n=[{key:"tooltipKey",get:function(){return ki[this.view.nameKey]}},{key:"onTap",value:function(e){gi.tappedClass(this.el)}},{key:"onClickBtn",value:function(e){var t=this.view,n=t.enabled,i=t.nameKey;n&&wi.trigger(Si.presentation.ON_OBJECT_EVENT,i+"_pressed")}},{key:"onLayoutChange",value:function(e){var t=this,n=this.view.nameKey;this.hasFocus&&(e[n]?window.requestAnimationFrame((function(){return t.onFocus()})):this.onBlur())}}])&&fi(t.prototype,n),i&&fi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt),Ci="next",Ei=DS,Li=Ei.detection,Ti=Li.orientation,xi=Li.deviceView.isTablet,Pi=Ei.constants.MOBILE_UI_SIZE;G.def(Ci,Oi,(function(e){var t=G.model,n={tag:"button",attrs:{id:Ci,class:"cs-button btn","aria-label":t.getString("acc_"+Ci),tabindex:0},html:'\n      <div class="icon">\n        '.concat(Pn(Ci)(),"\n      </div>\n    "),padLeft:6,padRight:6,wp:47,wl:Pi,minH:Pi,noUpdate:!0,parentAlign:"br",noContent:!1};return xi&&Object.assign(n,{wp:"fit-to-text-w",wl:Pi,wPad:function(){return Ti.isLandscape?0:20},calcTextSize:!0,html:'\n        <span class="txt">'.concat(t.getString(Ci),'</span>\n        <div class="icon">\n          ').concat(Pn("next")(),"\n        </div>\n      "),beforeReflowHook:function(){this.doTextCalcs(),this.update()}}),n}));var Ii=DS,_i=Ii.detection,Di=_i.orientation,ji=_i.deviceView.isTablet,Ai=Ii.constants.MOBILE_UI_SIZE,Ri="prev";G.def(Ri,Oi,(function(){var e=G.model,t={tag:"button",attrs:{id:Ri,class:"cs-button btn","aria-label":e.getString("acc_"+Ri),tabindex:0},html:'\n      <div class="icon">\n        '.concat(Pn(Ri)(),"\n      </div>\n    "),padLeft:6,padRight:6,wp:47,wl:Ai,minH:Ai,noUpdate:!0,parentAlign:"br",noContent:!1};return ji&&Object.assign(t,{wp:"fit-to-text-w",wl:Ai,wPad:function(){return Di.isLandscape?0:20},calcTextSize:!0,html:'\n        <span class="txt">'.concat(e.getString(Ri),'</span>\n        <div class="icon">\n          ').concat(Pn("prev")(),"\n        </div>\n      "),beforeReflowHook:function(){this.doTextCalcs(),this.update()}}),t}));var Bi=DS,Mi=Bi.constants.MOBILE_UI_SIZE,Hi=Bi.detection.orientation,Ni="navControls";function Fi(e){return Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fi(e)}function Vi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Gi(i.key),i)}}function Ui(e,t){return Ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ui(e,t)}function Wi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Zi(e);if(t){var r=Zi(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Fi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zi(e)}(this,n)}}function zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zi(e){return Zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zi(e)}function Ki(e,t,n){return(t=Gi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gi(e){var t=function(e,t){if("object"!==Fi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Fi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fi(t)?t:String(t)}G.def(Ni,(function(e){G.model.rtl;var t=G.getNamespace(e).playbackControls;return{tag:"nav",attrs:{id:Ni,"aria-label":"slide navigation"},wp:function(){return this.width||0},wl:"100%",hp:"100%",hl:function(){return this.parent.h-Mi},updateHook:function(){var e={reverse:!1,pad:0,fullUpdate:!0,sizeToChildren:!0};Hi.isLandscape&&(e.sizeToChildren=!1,e.vertical=!0,e.toTop=!0,e.startPos=this.h-t.h,e.reverse=!0),this.flowChildren(e)}}}));var Qi=DS,qi=Qi._,Yi=Qi.detection,Xi=Qi.utils,$i=Qi.keyManager,Ji=Qi.dom,er=Qi.dom,tr=er.addClass,nr=er.removeClass,ir=Qi.globalEventHelper.addWindowListener,rr=Qi.events,or=Qi.pubSub,ar=(Qi.stringTabler,function(e){for(;e.startsWith("0")&&!e.startsWith("0:");)e=e.substring(1);return e}),lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ui(e,t)}(o,e);var t,n,i,r=Wi(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Ki(zi(t=r.call(this,e)),"hasTooltip",!0),Ki(zi(t),"tooltipMoves",!0),qi.bindAll(zi(t),"onTick","onSeek","onMouseDown","onMouseUp","onMouseMove","checkSeekable","onKeydown","onTimelineChanged","onChange"),or.on(rr.slide.STARTED,t.checkSeekable),or.on(rr.player.SEEK,t.onKeydown),or.on(rr.playbackControls.TIMELINE_CHANGED,t.onTimelineChanged),t.isUserControlled=!G.model.frame.controlOptions.controls.readonly||G.model.frame.controlOptions.controls.readonlyOnce,t.bindListeners(),t.isUp=!0,t}return t=o,(n=[{key:"bindListeners",value:function(){if(this.isUserControlled){var e=Yi.deviceView.isClassicDesktop?this.seekEl:this.view.el;Yi.device.isMobile?(e.addEventListener("touchstart",this.onMouseDown),this.seekEvent="touchmove",this.endEvent="touchend"):(e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("keydown",this.onKeydown),this.seekEvent="mousemove",this.endEvent="mouseup"),this.progressBarEl.addEventListener("change",this.onChange)}}},{key:"isSeekable",value:function(){if(null==this.currSlide)return!1;var e=G.model.frame.controlOptions.controls,t=e.readonly,n=e.readonlyOnce;return!(t&&!n||n&&!this.currSlide.currentTimelineCompletedOnce())}},{key:"getSeekValue",value:function(e){var t=this.view.getBox();return Xi.clamp(0,1,(e-t.x)/t.w)}},{key:"getEventX",value:function(e){return Yi.device.isMobile?e.touches[0]&&e.touches[0].pageX:e.pageX}},{key:"onTimelineChanged",value:function(e,t){null!=this.currTimeline&&(this.currTimeline.off(rr.timeline.TICK,this.onTick),this.currTimeline.off(rr.timeline.COMPLETE,this.checkSeekable)),this.currSlide=t,this.currTimeline=e,this.currTimeline.on(rr.timeline.TICK,this.onTick),this.currTimeline.on(rr.timeline.COMPLETE,this.checkSeekable);var n=this.currTimeline.progress();this.duration=Xi.toSeconds(this.currTimeline.timelineDuration()),this.progressBarEl.max=Math.round(1e3*this.duration),this.progressBarEl.step=100,isNaN(n)&&(n=0),this.onTick(n),this.checkSeekable()}},{key:"checkSeekable",value:function(){this.isSeekable()?(nr(this.el,"read-only"),this.progressBarEl.disabled=!1):(tr(this.el,"read-only"),this.progressBarEl.disabled=!0)}},{key:"onTick",value:function(e){var t=100*e;this.progressBarFillEl.style.width="".concat(t,"%"),this.progressBarEl.setAttribute("aria-valuetext","".concat(Math.round(t),"%")),this.progressBarEl.value=this.currTimeline.timeline?this.currTimeline.timeline.currentTime:0,or.trigger(rr.currTimeline.TICK,e,Math.floor(this.progressBarEl.value))}},{key:"onSeek",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.seeking=!0,!0!==this.isUp&&this.currTimeline.isPlaying()&&(this.currTimeline.pause(!0),this.currTimeline.on(rr.timeline.AFTER_SEEK_UPDATE,(function e(){t.currTimeline.play(),t.currTimeline.off(rr.timeline.AFTER_SEEK_UPDATE,e)})));var n=this.getEventX(e);null!=n&&this.currTimeline.progress(this.getSeekValue(n)),this.isUp=!1}},{key:"seekBy",value:function(e,t){var n=this;e.preventDefault();var i=(this.currTimeline.elapsedTime()+t)/this.currTimeline.duration();this.currTimeline.onSeekStart(),this.currTimeline.progress(i),this.currTimeline.onSeekEnd(),this.currTimeline.isPlaying()&&(this.currTimeline.pause(),setTimeout((function(){return n.currTimeline.play()}),125))}},{key:"isEnded",value:function(){return this.currTimeline.progress()>=1}},{key:"onChange",value:function(e){this.currTimeline.progress(this.progressBarEl.value/this.progressBarEl.max)}},{key:"onMouseDown",value:function(e){this.isUp=!1,this.removeEndListener=ir(this.endEvent,this.onMouseUp),this.removeSeekListener=ir(this.seekEvent,this.onSeek),this.currTimeline.onSeekStart(),this.onSeek(e)}},{key:"onMouseUp",value:function(e){this.onSeek(e),this.removeEndListener(),this.removeSeekListener(),this.isUp=!0,this.currTimeline.onSeekEnd()}},{key:"onKeydown",value:function(e){var t=e.which;$i.isActionKey(t)?or.trigger(rr.player.TOGGLE_PLAYBACK):this.isSeekable()&&($i.isDownishKey(t)?this.seekBy(e,-100):$i.isPageDownKey(t)?this.seekBy(e,-1e3):$i.isUpishKey(t)?this.seekBy(e,100):$i.isPageUpKey(t)&&this.seekBy(e,1e3))}},{key:"getViewBox",value:function(e){var t=this.view.getBox();return null!=e&&(t.x="focusin"===e.type?t.x+t.w/2:e.pageX,t.w=2),t}},{key:"onMouseMove",value:function(e){mt.updateTooltip(e.pageX,this.getTooltipString())}},{key:"setForFollowMouse",value:function(){this.el.addEventListener("mousemove",this.onMouseMove)}},{key:"stopFollowMouse",value:function(){this.el.removeEventListener("mousemove",this.onMouseMove)}},{key:"getTooltipString",value:function(e){if(null!=this.duration){this.view.getBox().x;var t=this.getSeekValue(Ji.mouseX)*this.duration;null!=e&&"focusin"===e.type&&(t=Math.floor(Xi.toSeconds(this.progressBarEl.value)));var n=Xi.formatSecondsAsTime(t),i=Xi.formatSecondsAsTime(this.duration);return"".concat(ar(n)," / ").concat(ar(i))}}}])&&Vi(t.prototype,n),i&&Vi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt),sr="seek";G.def(sr,lr,(function(){var e=G.model,t=G.model.frame.controlOptions.controls,n=t.readonly,i=t.seekbar;return{attrs:{id:sr,tabindex:-1,class:"progress-bar cs-seekcontrol ".concat(n?"read-only":"")},y:function(){return this.parent.h/3},overflow:"visible",noUpdate:!0,w:function(){return this.width||0},h:30,html:'\n      <div class="cs-seekbar-inner progress-bar-inner slide-lockable">\n        <div class="cs-seek progress-bar-seek">\n          <div data-ref="progressBarFill" class="cs-fill progress-bar-fill" style="width: 0px">\n          </div>\n        </div>\n        <input\n          aria-hidden="'.concat(!i,'"\n          ').concat(n?"disabled":"",'\n          data-ref="progressBar"\n          type="range"\n          tabindex="0"\n          aria-label="').concat(e.getString("acc_slide_progress"),'"\n        />\n      </div>\n    ')}}));var cr=DS,ur=cr.constants.MOBILE_UI_SIZE,fr=cr.detection,dr=fr.orientation,hr=fr.deviceView.isTablet,pr="submit";G.def(pr,Oi,(function(){var e=G.model,t={tag:"button",attrs:{id:pr,class:"cs-button btn","aria-label":e.getString("acc_"+pr),tabindex:0},html:'\n      <div class="icon">\n        '.concat(Pn(pr)(),"\n      </div>\n    "),overflow:"visible",padLeft:6,padRight:6,wp:47,wl:ur,minH:ur,noUpdate:!0,parentAlign:"br",noContent:!1};return hr&&Object.assign(t,{wp:"fit-to-text-w",wl:ur,wPad:function(){return dr.isLandscape?0:20},calcTextSize:!0,html:'\n        <span class="txt">'.concat(e.getString(pr),'</span>\n        <div class="icon">\n          ').concat(Pn(pr)(),"\n        </div>\n      "),beforeReflowHook:function(){this.doTextCalcs(),this.update()}}),t}));function yr(e){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(e)}function br(e,t,n){return(t=mr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,mr(i.key),i)}}function mr(e){var t=function(e,t){if("object"!==yr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==yr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yr(t)?t:String(t)}function gr(e,t){return gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gr(e,t)}function wr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=kr(e);if(t){var r=kr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===yr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sr(e)}(this,n)}}function Sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kr(e){return kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kr(e)}var Or=DS,Cr=Or.events,Er=Or.pubSub,Lr=Or.detection.orientation,Tr=(Or.utils.getPath,Or.dom.hasClass),xr=Or._,Pr=xr.bindAll,Ir=xr.first,_r=xr.kebabCase,Dr=Or.globalEventHelper.addWindowListener,jr=Or.constants.MOBILE_ANIMATION_DURATION,Ar=/Panel$/,Rr=/Link$/,Br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gr(e,t)}(o,e);var t,n,i,r=wr(o);function o(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,e)).ns=G.getCurrentNameSpace(),Pr(Sr(n),"onShow","onHide","onCloseClick","onLayoutReady","onCheckLayoutLandscape"),Er.on((br(t={},Cr.tab.SHOW,n.onShow),br(t,Cr.tab.HIDE,n.onHide),br(t,Cr.frame.LAYOUT_READY,n.onLayoutReady),t)),o.current=Ir(n.view.children),n.onClickEl(n.tabCloseEl,n.onCloseClick),Dr("resize",n.onCheckLayoutLandscape),n}return t=o,n=[{key:"isDeactivated",value:function(e){return Tr(document.body,"no-"+e)}},{key:"onCheckLayoutLandscape",value:function(){!this.view.visible&&null!=this.lastViewVisibility&&Lr.isLandscape&&(this.onLayoutReady(this.lastViewVisibility),this.lastViewVisibility=null)}},{key:"onLayoutReady",value:function(e){var t=this;if(null==this.lastLink||!e[this.lastLink.nameKey])if(Lr.isLandscape){var n=this.ns.tabs.children;o.panelAvailable=n.some((function(n){var i=n.nameKey.replace(Rr,""),r=Rr.test(n.nameKey)&&e[n.nameKey]&&!t.isDeactivated(i);return r&&t.onShow(n.nameKey.replace(Rr,"Panel"),!1),r})),this.lastViewVisibility=null}else this.lastViewVisibility=e}},{key:"onCloseClick",value:function(){Lr.isLandscape?this.ns.sidebar.viewLogic.toggle():Er.trigger(DS.events.tab.HIDE)}},{key:"onShow",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.view.children[e];if(this.view.setVisibility(t),null!=this.lastPanel&&this.lastPanel.setVisibility(!1),null!=n){n.setVisibility(t),o.current=n;var i=this.ns[e.replace(Ar,"Link")];this.lastLink=i,i.viewLogic.select(),t&&(Er.trigger(Cr.slide.ARIA_TOGGLE,{hidden:!0}),"outlinePanel"===e?Er.trigger(Cr.mobile.OUTLINE_SHOWN):"transcriptPanel"===e&&Er.trigger(Cr.mobile.NOTES_SHOWN),document.body.classList.add("tab-shown"),null!=this.prevPanelName&&document.body.classList.remove(this.prevPanelName),this.prevPanelName=this.activePanelClass(e),document.body.classList.add(this.prevPanelName),null!=this.lastPanel&&(this.lastPanel.el.style.opacity=0),n.el.style.opacity=1),this.lastPanel=n}}},{key:"activePanelClass",value:function(e){return"tab-active-".concat(_r(e))}},{key:"onHide",value:function(e){clearTimeout(this.tabShownDelayId),this.tabShownDelayId=setTimeout((function(){document.body.classList.remove("tab-shown")}),jr),Er.trigger(Cr.slide.ARIA_TOGGLE,{hidden:!1}),this.view.setVisibility(!1)}}],n&&vr(t.prototype,n),i&&vr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt);Br.current=null,Br.panelAvailable=!1;var Mr=Br;function Hr(e){return Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hr(e)}function Nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||Ur(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fr(e,t,n){return(t=Zr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vr(e){return function(e){if(Array.isArray(e))return Wr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ur(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(e,t){if(e){if("string"==typeof e)return Wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wr(e,t):void 0}}function Wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function zr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Zr(i.key),i)}}function Zr(e){var t=function(e,t){if("object"!==Hr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Hr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Hr(t)?t:String(t)}function Kr(e,t){return Kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kr(e,t)}function Gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=qr(e);if(t){var r=qr(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Hr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qr(e)}(this,n)}}function Qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qr(e){return qr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qr(e)}var Yr=DS,Xr=Yr._,$r=Yr.detection,Jr=$r.orientation,eo=$r.deviceView,to=eo.isTablet,no=eo.isPhone,io=Yr.events,ro=Yr.pubSub,oo=Yr.dom,ao=(oo.addClass,oo.removeClass,Yr.globalEventHelper),lo=ao.addWindowListener,so=ao.addDocumentListener,co=Yr.constants,uo=co.MOBILE_UI_SIZE,fo=co.MOBILE_ANIMATION_DURATION,ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kr(e,t)}(o,e);var t,n,i,r=Gr(o);function o(e){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=r.call(this,e),Xr.bindAll(Qr(n),"showContent","hideContent","onCheckTabShown","onCheckTabHidden","forceHide","onToggleSearch");var i=G.getCurrentNameSpace();return n.panels=i.panels,n.visibleOverlay=i.visibleOverlay,n.hamburger=i.hamburger,n.toggleShow=!1,window.requestAnimationFrame((function(){Vr(document.querySelectorAll(".hamburger")).forEach((function(e){return n.onClickEl(e,n.onToggle)}))})),lo("resize",n.onResize.bind(Qr(n))),ro.on((Fr(t={},io.sidebar.OPEN,n.showContent),Fr(t,io.sidebar.CLOSE,n.hideContent),Fr(t,io.tab.SHOW,n.onCheckTabShown),Fr(t,io.tab.HIDE,n.onCheckTabHidden),Fr(t,io.window.STACKING_CHANGED,n.forceHide),t)),n.searchToggle=!1,so("touchend",n.onToggleSearch),n.hideContent(),n}return t=o,n=[{key:"onToggleSearch",value:function(e){if(e.target.classList.contains("search-toggle-btn")){this.searchToggle=!this.searchToggle;var t=Nr(this.searchToggle?["add",io.sidebar.SHOW_SEARCH,!0]:["remove",io.sidebar.HIDE_SEARCH,!1],3),n=t[0],i=t[1],r=t[2];ro.trigger(i),document.body.classList[n]("search-active"),e.target.setAttribute("aria-pressed",r)}}},{key:"forceHide",value:function(e){"MessageWnd"===e&&(this.hideContent(),ro.trigger(io.tab.HIDE))}},{key:"onCheckTabShown",value:function(){this.tabShown=!0,Jr.isPortrait&&this.hideContent()}},{key:"onCheckTabHidden",value:function(){this.tabShown=!1}},{key:"onResize",value:function(){var e=this;this.el.classList.remove("transition-all"),setTimeout((function(){e.el.classList.add("transition-all"),e.tabShown&&Jr.isLandscape&&(e.showContent(),e.el.style.display="block")}),fo),this.hideContent()}},{key:"ariaToggleBurger",value:function(e){null==this.hamburgers&&(this.hamburgers=document.querySelectorAll(".hamburger")),this.hamburgers.forEach((function(t){t.setAttribute("aria-expanded",e)}))}},{key:"showContent",value:function(){var e=this,t=this.view.children.tabs,n=G.getNamespace(this.view.nameSpace).hamburger;if(Jr.isPortrait&&this.visibleOverlay.setVisibility(!0),this.el.removeAttribute("aria-hidden"),this.el.focus(),this.el.style.display="block",window.requestAnimationFrame((function(){e.el.style.opacity=1;var n=window.innerHeight-t.h-uo,i=0;to&&(n-=25,i=25),e.el.style.transform=Jr.isPortrait?"translate(".concat(i,"px, ").concat(n,"px)"):"translate(".concat(window.innerWidth-160,"px, 0)")})),this.toggleShow=!0,null!=n){var i=n.children,r=i.burger,o=i.searchBtn;this.ariaToggleBurger(!0),this.el.setAttribute("aria-expanded",!0),(no||to&&Jr.isLandscape)&&(r.el.style.display="none"),null!=o&&(o.el.style.display="none")}if(!this.tabShown&&Jr.isLandscape&&Mr.panelAvailable){var a=Mr.current||Xr.first(this.panels.children);null!=a&&(ro.trigger(io.tab.SHOW,a.nameKey),this.tabShown=!0)}}},{key:"hideContent",value:function(){var e=this,t=G.getNamespace(this.view.nameSpace).hamburger;if(this.visibleOverlay.setVisibility(!1),this.el.style.opacity=0,this.el.setAttribute("aria-hidden",!0),Jr.isPortrait&&setTimeout((function(){e.el.style.display="none"}),fo),this.view.updateTrans(),this.toggleShow=!1,null!=t){var n=t.children,i=n.burger,r=n.searchBtn;this.ariaToggleBurger(!1),i.el.style.display="block",null!=r&&(r.el.style.display="block"),this.el.setAttribute("aria-expanded",!1)}}},{key:"toggle",value:function(){this.toggleShow?(this.hideContent(),Xr.forEach(this.el.querySelectorAll(".selected"),(function(e){return e.classList.remove("selected")})),Jr.isLandscape&&ro.trigger(io.tab.HIDE)):this.showContent(),this.ariaToggleBurger(this.toggleShow),this.el.setAttribute("aria-expanded",this.toggleShow)}},{key:"onToggle",value:function(e){null!=this.hamburger&&this.hamburger.enabled&&this.toggle()}}],n&&zr(t.prototype,n),i&&zr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt),po=ho,yo=DS.constants.MOBILE_UI_SIZE,bo=DS.detection.deviceView.isTablet,vo="sidebar";function mo(e){return mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(e)}function go(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==mo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==mo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===mo(o)?o:String(o)),i)}var r,o}function wo(e,t){return wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wo(e,t)}function So(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ko(e);if(t){var r=ko(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===mo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function ko(e){return ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ko(e)}G.def(vo,po,(function(e){var t=G.getNamespace(e).tabs,n={tag:"section",attrs:{id:vo,"aria-label":"sidebar",class:"transition-all "+(bo?"sidebar-tablet-trans":"")},z:3,overflow:"visible",wp:function(){return this.parent.w},wl:160,hp:function(){return t.h+yo},hl:function(){return this.parent.w},xp:0,xl:function(){return window.innerWidth},yl:0,yp:function(){return window.innerHeight},html:In("landscape")};return bo&&Object.assign(n,{hp:function(){return t.h},wp:function(){return this.width||this.parent.w}}),n}));var Oo=DS,Co=Oo._,Eo=Oo.pubSub,Lo=Oo.events,To=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wo(e,t)}(o,e);var t,n,i,r=So(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClick(t.onClickLink),t}return t=o,(n=[{key:"onClickLink",value:function(e){Eo.trigger(Lo.tab.SHOW,this.model.name+"Panel")}},{key:"deselect",value:function(){Co.forEach(this.el.parentNode.querySelectorAll(".selected"),(function(e){e.classList.remove("selected")}))}},{key:"select",value:function(){this.deselect(),this.el.classList.add("selected")}}])&&go(t.prototype,n),i&&go(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt);function xo(e){return xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo(e)}function Po(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==xo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==xo(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===xo(o)?o:String(o)),i)}var r,o}function Io(e,t){return Io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Io(e,t)}function _o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Do(e);if(t){var r=Do(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===xo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Do(e){return Do=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Do(e)}var jo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Io(e,t)}(o,e);var t,n,i,r=_o(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClick(t.onClickLink),t}return t=o,(n=[{key:"onClickLink",value:function(e){var t=this.model.properties.data;DS.pubSub.trigger(DS.events.sidebar.CLOSE),DS.pubSub.trigger(DS.events.tab.HIDE),DS.pubSub.trigger(DS.events.customlink.EVENT,t)}}])&&Po(t.prototype,n),i&&Po(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt);function Ao(e){return function(e){if(Array.isArray(e))return Ro(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ro(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Bo=DS,Mo=(Bo.utils.getPath,Bo.constants.MOBILE_UI_SIZE),Ho=Bo.detection,No=Ho.orientation,Fo=Ho.deviceView,Vo=Fo.isTablet,Uo=Fo.isPhone,Wo="tabs",zo=G.def(Wo,(function(e){var t=!0,n=G.getNamespace(e),i=n.sidebar;n.tabs;return{attrs:{id:Wo,tabindex:0,"aria-label":"sidebar-tabs"},overflow:"auto",x:0,yl:Mo,yp:function(){return Vo&&No.isPortrait?0:Mo},noContent:!1,w:"100%",h:function(){return No.isLandscape?window.innerHeight-58:this.height||0},methods:{sizeToLargestTab:function(){var e=160;this.children.forEach((function(t){t.el.style.width="auto";var n=t.el.clientWidth;n>e&&(e=n)})),i.width=e,i.updateSize(),this.updateSize(),this.children.forEach((function(t){t.el.style.width="",t.width=e,t.updateSize()}))}},updateHook:function(){0!==this.children.length&&(this.flowChildren({fullUpdate:!1,sizeToChildren:!0,vertical:!0}),Vo&&t&&No.isPortrait?(this.sizeToLargestTab(),t=!1):this.updateSize())},childDef:function(){Zo(G.model)}}})),Zo=function(e){[].concat(Ao(e.sidebarTabs),Ao(e.topTabsLeft),Ao(e.topTabsRight)).forEach((function(t,n){!function(e,t,n){var i,r,o,a=t.name,l=a+"Tab";"customlink"===a?(i=jo,r=t.properties.title,l="link".concat(n),o="custom-link"):(i=To,r=e.getString(t.name),l=t.name+"Link",o="panel-link");var s=G.def(l,i,{model:Object.assign(t,{idx:n}),tag:"button",attrs:{id:l,class:"tab ".concat(o),"aria-label":r,tabindex:-1},w:function(){return No.isLandscape||Uo?this.parent.w:this.width||null},h:50,noUpdate:!0,html:r});s.init(),zo.append(s)}(e,t,n)}))};function Ko(e){return Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ko(e)}function Go(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Ko(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ko(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Ko(o)?o:String(o)),i)}var r,o}function Qo(e,t){return Qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qo(e,t)}function qo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Xo(e);if(t){var r=Xo(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ko(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yo(e)}(this,n)}}function Yo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xo(e){return Xo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xo(e)}var $o,Jo=DS,ea=Jo.pubSub,ta=Jo.events,na=Jo.TweenLite,ia=Jo.focusManager,ra=Jo._.bindAll,oa=Jo.dom.addClass,aa=Jo.detection,la=!1,sa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qo(e,t)}(o,e);var t,n,i,r=qo(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=(t=r.call(this,e)).view.children.searchForm.el,i=t.view.children.searchInput.el;return n.addEventListener("submit",t.onSearch.bind(Yo(t))),aa.deviceView.isMobile&&(ra(Yo(t),"onMobileOutlineShown"),i.addEventListener("input",t.onSearch.bind(Yo(t))),ea.on(ta.mobile.OUTLINE_SHOWN,t.onMobileOutlineShown)),t.ensureEventSubscriptions(),t}return t=o,n=[{key:"teardown",value:function(){ea.off(ta.mobile.OUTLINE_SHOWN,this.onMobileOutlineShown),ea.off(ta.controlOptions.RESET,this.onControlOptionsReset,this),la=!1}},{key:"ensureEventSubscriptions",value:function(){la||(ea.on(ta.controlOptions.RESET,this.onControlOptionsReset,this),la=!0)}},{key:"onControlOptionsReset",value:function(){this.view.updateHtml(),this.view.update()}},{key:"onMobileOutlineShown",value:function(){document.getElementById("outline-panel").appendChild(this.el),oa(document.body,"tab-shown")}},{key:"onFocus",value:function(e){ia.setFocusRectOn(this.view.el)}},{key:"onSearch",value:function(e){e.preventDefault();var t=this.view.parent.children.searchResults,n=this.view.children.bottomDiv,i=document.querySelector("#outline-content ul");na.to(i,.2,{alpha:0,onComplete:function(){t.el.style.opacity=0,na.to(t.el,.2,{alpha:1,onComplete:function(){return t.viewLogic.onAfterVisible()}}),n.el.style.opacity=0,t.setVisibility(!0)}}),t.viewLogic.performSearch(this.searchInputEl.value),oa(document.body,"search-results-active")}},{key:"updateVisibility",value:function(e){var t=this.view,n=t.searchResults,i=t.searchResults.visible,r=t.visible;this.view.setVisibility(e),n.setVisibility(e&&this.searchResultsOpen),r&&(this.searchResultsOpen=i)}}],n&&Go(t.prototype,n),i&&Go(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt),ca=sa,ua="search",fa=DS,da=fa.pubSub,ha=fa.events,pa=fa.constants.MOBILE_ANIMATION_DURATION,ya=G.def(ua,ca,(function(){var e=G.model,t=(G.getCurrentNameSpaceString(),e.frame.controlOptions.controls.search),n=0;return t&&(n=-58,da.on(ha.sidebar.SHOW_SEARCH,(function(){n=0,$o.update()})),da.on(ha.sidebar.HIDE_SEARCH,(function(){setTimeout((function(){n=-58,$o.update()}),pa)}))),{attrs:{class:ua,"aria-label":e.getString("acc_search_input"),tabIndex:0},style:{background:"white"},z:3,x:0,y:function(){return n},w:function(){return this.parent.w},h:function(){return 58},updateHook:function(){$o=this},html:'\n      <div class="search-ui">\n        <div data-ref="bottomDiv"></div>\n        <form id="outline-search" data-ref="searchForm" class="search-input cs-outlinesearch cs-searchinput">\n          <input class="cs-input " data-ref="searchInput" type="search" placeholder="'.concat(e.getString("search"),'">\n          <div\n            class="input-search-icon"\n            style="background-repeat: no-repeat"\n            tabindex="-1"\n          >').concat(Pn("search")(),"</div>\n        </form>\n      </div>\n    ")}}));function ba(e){return ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(e)}function va(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==ba(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ba(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===ba(o)?o:String(o)),i)}var r,o}function ma(){return ma="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ka(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},ma.apply(this,arguments)}function ga(e,t){return ga=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ga(e,t)}function wa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ka(e);if(t){var r=ka(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ba(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sa(e)}(this,n)}}function Sa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ka(e){return ka=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ka(e)}var Oa=DS,Ca=Oa.focusManager,Ea=Oa.keyManager,La=Oa.detection,Ta=Oa.globalEventHelper,xa=Ta.addDocumentListener,Pa=Ta.removeDocumentListener,Ia=(Oa.utils.getPath,Oa.dom),_a=Ia.parentNodesOf,Da=Ia.addClass,ja=Ia.removeClass,Aa=Oa._,Ra=Aa.first,Ba=Aa.last,Ma=Aa.bindAll,Ha=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ga(e,t)}(o,e);var t,n,i,r=wa(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Ma(Sa(t),"onKeydown","addEvents","onClickItem"),t.addEvents(),t}return t=o,(n=[{key:"focusSelf",value:function(){this.hasListItems()&&this.getItems().find((function(e){return 0===e.tabIndex})).focus()}},{key:"addEvents",value:function(){var e=this;La.device.isMobile?(this.el.addEventListener("touchmove",(function(t){e.moved=!0})),this.onClick((function(t){e.moved||e.onClickItem(t),e.moved=!1}))):this.onClick(this.onClickItem)}},{key:"onClickItem",value:function(){}},{key:"onFocus",value:function(){!this.isFocused&&this.hasListItems()&&(this.isFocused=!0,this.currentItem=this.currentItem||Ra(this.getItems()),Da(this.currentItem,"hover"),Ea.isShowFocus&&this.centerOnFocused(),Ca.setFocusRectOn(this.getFocusRectTarget()),xa("keydown",this.onKeydown))}},{key:"onBlur",value:function(e){this.el.contains(e.relatedTarget)||(ma(ka(o.prototype),"onBlur",this).call(this,e),null!=this.currentItem&&(ja(this.currentItem,"hover"),this.currentItem.style.backgroundColor=""),Pa("keydown",this.onKeydown),this.isFocused=!1)}},{key:"onKeydown",value:function(e){var t=this.currentItem;Ea.isActionKey(e.which)?(this.activateItem(e),Ea.isSpaceKey(e.which)&&e.preventDefault()):Ea.isDownishKey(e.which)?this.currentItem=this.getNextItem(this.getItemContent()):Ea.isUpishKey(e.which)?this.currentItem=this.getPrevItem(this.getItemContent()):Ea.isHomeKey(e.which)?this.currentItem=this.getFirstItem():Ea.isEndKey(e.which)&&(this.currentItem=this.getLastItem()),t!==this.currentItem&&(e.preventDefault(),t.tabIndex=-1,ja(t,"hover"),this.focusOnCurrent())}},{key:"hasListItems",value:function(){return!1}},{key:"getFocusRectTarget",value:function(){return this.currentItem}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem&&(this.currentItem.tabIndex=0,Da(this.currentItem,"hover"),this.currentItem.focus()),Ca.setFocusRectOn(this.getFocusRectTarget())}},{key:"activateItem",value:function(){this.onClickItem({target:this.currentItem.firstElementChild})}},{key:"getNextItem",value:function(e){var t=this,n=this.getItems().findIndex((function(n){return t.findIndexCb(n,e)}))+1;return n===this.getItems().length&&(n=0),this.getItems()[n]}},{key:"getPrevItem",value:function(e){var t=this,n=this.getItems().findIndex((function(n){return t.findIndexCb(n,e)}))-1;return-1===n&&(n=this.getItems().length-1),this.getItems()[n]}},{key:"getLastItem",value:function(){return Ba(this.getItems())}},{key:"getFirstItem",value:function(){return Ra(this.getItems())}},{key:"getItemContent",value:function(){return this.currentItem.textContent.trim()}},{key:"findIndexCb",value:function(e,t){return e.textContent.trim()===t}},{key:"getItems",value:function(){return[]}},{key:"getScrollEl",value:function(){return this.el}},{key:"getOffsetEl",value:function(){return this.el}},{key:"getOffsetTop",value:function(e){return function(e){return _a(e,(function(e){return"li"===e.nodeName.toLowerCase()})).reduce((function(e,t){return e+t.offsetTop}),0)}(e)}},{key:"getOffsetHeight",value:function(e){return e.offsetHeight}},{key:"centerOnFocused",value:function(){if(null!=this.currentItem){var e=this.getOffsetEl(),t=this.getOffsetHeight(e),n=this.getScrollEl().scrollTop,i=this.getOffsetTop(this.currentItem),r=i+this.getOffsetHeight(this.currentItem);r-n>t?e.scrollTop=r-t+10:i<n+10&&(e.scrollTop=i-10)}}}])&&va(t.prototype,n),i&&va(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt),Na=DS,Fa=(Na.MicroScrollBar,Na.detection,function(e){return null!=e&&2===e.split(".").length}),Va=function(){return"no icon"},Ua={next:function(){return'\n  <svg class="cs-icon next-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n    <path transform="rotate(180, 5, 8)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>')},prev:function(){return'\n  <svg class="cs-icon prev-icon" width="10px" height="18px" viewBox="0 -1 10 18" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n    <path transform="translate(0, 1)" d="M2.81685219,7.60265083 L9.00528946,1.41421356 L7.5910759,-1.27897692e-13 L1.55431223e-13,7.5910759 L0.0115749356,7.60265083 L1.55431223e-13,7.61422577 L7.5910759,15.2053017 L9.00528946,13.7910881 L2.81685219,7.60265083 Z" stroke="none" fillRule="evenodd"></path>\n  </svg>\n')},submit:function(){return'\n   <svg class="cs-icon check-icon" width="17px" height="18px" viewBox="0 0 17 16" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n\n  <path stroke="none" transform="translate(0, 1)" d="\n  M 17 1.4\n  L 15.6 0 5.7 9.9 1.4 5.65 0 7.05 5.65 12.75 5.7 12.75 17 1.4 Z"/>\n\n  </svg>')},replay:function(){return'<svg class="cs-icon" x="0px" y="0px" width="16px" height="16px" viewBox="0 0 16 16" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n    <path fill="#FFFFFF" stroke="none" d="\n      M 10.95 8.75\n      Q 11 9 11 9.25 10.95 11.15 9.7 12.4 8.4 13.7 6.5 13.75 4.6 13.7 3.3 12.4 2.05 11.15 2 9.25 2.05 7.3 3.3 6.05 4.398828125 4.998828125 6 4.75\n      L 6 6.9\n      Q 6.05 7.75 6.85 7.35\n      L 11.35 4.3\n      Q 11.7 4.05 11.7 3.75 11.7 3.45 11.35 3.2\n      L 6.85 0.15\n      Q 6.05 -0.3 6 0.6\n      L 6 2.75\n      Q 3.4517578125 3.001171875 1.8 4.75 0.05 6.6 0 9.25 0.05 12 1.9 13.85 3.75 15.65 6.5 15.75 9.25 15.65 11.1 13.85 12.95 12 13 9.25 13 9 13 8.75\n      L 10.95 8.75 Z"/>\n    </svg>')},play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="11" height="13" viewBox="0 0 11 13" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n    <path fill="#FFFFFF" stroke="none" d="\n      M 0.851 13.011\n      C 0.381 13.295 0 13.068 0 12.526\n      L 0 0.771\n      C 0 0.219 0.378 0 0.854 0.288\n      L 10.507 6.132\n      C 10.979 6.417 10.981 6.878 10.504 7.168\n      L 6.307 9.708\n      L 0.851 13.011 Z" />\n  </svg>')},pause:function(){return'<svg id="icon-pause" class="cs-icon pause-icon" width="9" height="14" viewBox="0 0 9 14" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n    <rect x="0" width="3" height="14"/>\n    <rect x="6" width="3" height="14"/>\n  </svg>')},volume:function(e,t){var n=Math.min(1,e/5),i=Math.min(1,Math.max(0,e/5-.5));return'<svg class="cs-icon volume-icon '.concat(t?"volume-icon-selected":"",'" width="16px" height="14px" viewBox="0 0 16 14" focusable="false" ').concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n      <rect x="0" y="4" width="3" height="6"></rect>\n      <polygon points="4 4 9 0 9 14 4 10"></polygon>\n      <g transform="translate(10, 0)">\n        <mask id="vol-mask" fill="white">\n          <rect id="path-1" x="0" y="0" width="8" height="14" style="fill: white;"></rect>\n        </mask>\n        <circle strokeWidth="1.5" style="opacity: ').concat(i,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="6.5"></circle>\n        <circle strokeWidth="1.5" style="opacity: ').concat(n,';" mask="url(#vol-mask)" fill="none" cx="-1" cy="7" r="3.5"></circle>\n      </g>\n    </g>\n  </svg>')},captionsOn:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n            <path fill="#FFFFFF" stroke="none" d="M 19 2 Q 19 1.15 18.4 0.6 17.85 0 17 0 L 2 0 Q 1.15 0 0.6 0.6 0 1.15 0 2 L 0 12 Q 0 12.85 0.6 13.4 1.15 14 2 14 L 7.6 14 9.5 15.9 11.4 14 17 14 Q 17.85 14 18.4 13.4 19 12.85 19 12 L 19 2 M 15.7 4.2 L 15.25 4.85 Q 15.15 4.9 15.1 5 15 5.05 14.85 5.05 14.75 5.05 14.6 4.95 14.5 4.9 14.3 4.8 14.15 4.65 13.9 4.6 13.65 4.5 13.3 4.5 12.85 4.5 12.5 4.7 12.15 4.85 11.9 5.15 11.7 5.45 11.6 5.9 11.45 6.35 11.45 6.9 11.5 7.45 11.6 7.9 11.7 8.35 11.95 8.65 12.2 8.95 12.5 9.15 12.85 9.3 13.25 9.3 13.65 9.3 13.9 9.2 14.2 9.1 14.35 8.95 14.5 8.85 14.65 8.75 14.8 8.65 14.95 8.65 15.15 8.65 15.25 8.8 L 15.75 9.4 Q 15.45 9.75 15.15 10 14.8 10.2 14.45 10.35 14.05 10.5 13.7 10.55 13.3 10.6 12.95 10.6 12.25 10.6 11.65 10.35 11.1 10.1 10.65 9.65 10.2 9.15 9.95 8.45 9.7 7.75 9.7 6.9 9.7 6.1 9.95 5.4 10.15 4.75 10.6 4.25 11.05 3.75 11.7 3.5 12.35 3.2 13.2 3.2 14 3.2 14.6 3.45 15.2 3.7 15.7 4.2 M 5.85 4.7 Q 5.5 4.85 5.25 5.15 5.05 5.45 4.95 5.9 4.8 6.35 4.8 6.9 4.85 7.45 4.95 7.9 5.05 8.35 5.3 8.65 5.55 8.95 5.85 9.15 6.2 9.3 6.6 9.3 7 9.3 7.25 9.2 7.55 9.1 7.7 8.95 7.85 8.85 8 8.75 8.15 8.65 8.3 8.65 8.5 8.65 8.6 8.8 L 9.1 9.4 Q 8.8 9.75 8.5 10 8.15 10.2 7.8 10.35 7.4 10.5 7.05 10.55 6.65 10.6 6.3 10.6 5.6 10.6 5 10.35 4.45 10.1 4 9.65 3.55 9.15 3.3 8.45 3.05 7.75 3.05 6.9 3.05 6.1 3.3 5.4 3.5 4.75 3.95 4.25 4.4 3.75 5.05 3.5 5.7 3.2 6.55 3.2 7.35 3.2 7.95 3.45 8.55 3.7 9.05 4.2 L 8.6 4.85 Q 8.5 4.9 8.45 5 8.35 5.05 8.2 5.05 8.1 5.05 7.95 4.95 7.85 4.9 7.65 4.8 7.5 4.65 7.25 4.6 7 4.5 6.65 4.5 6.2 4.5 5.85 4.7 Z"/>\n          </svg>')},captionsOff:function(e){return'<svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n            <g>\n              <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n              <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n            </g>\n          </svg>')},captions:function(){return'\n    <svg class="cs-icon captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n      <g>\n        <path d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n        <path class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" fill="none" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n      </g>\n    </svg>')},carrot:function(e){return'\n    <svg style="left:calc('.concat(e,');" class="cs-icon cs-icon-carrot carrot"width="30" height="30" viewBox="0 0 30 30" focusable="false" ').concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n      <g transform="translate(8, 8)">\n        <polygon style="fill:currentColor !important" points="1,1.5 5,5 1,8.5"/>\n      </g>\n  </svg>')},search:function(){return'\n    <svg class="search-icon" width="13px" height="15px" viewBox="0 0 13 15" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'\n      <g fill="none" fill-rule="evenodd">\n        <g stroke-width="2">\n          <circle cx="5.6" cy="5.6" r="4.6"/>\n          <path d="M8 9l4 5"/>\n        </g>\n      </g>\n    </svg>\n    ')},searchClear:function(){return'\n    <svg class="cs-icon icon" width="11px" height="11px" viewBox="0 0 11 11">\n    <g id="Desktop-Color-Contrast" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Search" transform="translate(-290.000000, -69.000000)" fill="fill:currentColor !important" fill-rule="nonzero">\n            <g id="search" transform="translate(13.000000, 59.000000)">\n                <polygon id="ic_close" points="286.777666 10 282.500215 14.2779053 278.222334 10 277 11.2222382 281.277881 15.5002869 277 19.7779053 278.222334 21 282.500215 16.7222382 286.777666 21 288 19.7779053 283.722119 15.5002869 288 11.2222382"></polygon>\n            </g>\n        </g>\n    </g>\n    </svg>\n    '},filter:function(){return'<svg class="cs-icon icon-gear" width="14" height="14" viewBox="0 0 14 14" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n    <path id="icon-gear" transform="translate(0,3)" d="M11.1,9.8C11.1,9.8,11.1,9.8,11.1,9.8C11.1,9.8,11.1,9.7,11.1,9.8c0-0.1,0.1-0.1,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0-0.1,0.1-0.1c0,0,0,0,0,0c0-0.1,0.1-0.1,0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1,0.1-0.2c0,0,0,0,0,0c0.1-0.2,0.2-0.5,0.2-0.7l2-0.4V6.4l-2-0.4c0-0.3-0.1-0.5-0.2-0.7c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0-0.1,0-0.1-0.1-0.2c0,0,0,0,0,0c0,0,0-0.1-0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.2-1.7l-0.9-0.9L9.7,2.8c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0-0.1,0-0.1-0.1c0,0,0,0,0,0c-0.1,0-0.1-0.1-0.2-0.1c0,0,0,0,0,0c-0.1,0-0.1,0-0.2-0.1c0,0,0,0,0,0C8.3,2.1,8.1,2.1,7.8,2L7.4,0H6.2L5.9,2c-0.3,0-0.5,0.1-0.7,0.2c0,0,0,0,0,0C5,2.3,5,2.3,4.9,2.3c0,0,0,0,0,0c-0.1,0-0.1,0-0.2,0.1c0,0,0,0,0,0c0,0-0.1,0-0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0-0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0L2.3,1.6L1.4,2.5l1.2,1.7c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0.1-0.1,0.1c0,0,0,0,0,0C2.2,5,2.2,5,2.2,5.1c0,0,0,0,0,0c0,0.1,0,0.1-0.1,0.2c0,0,0,0,0,0C2,5.5,1.9,5.8,1.9,6l-2,0.4v1.2l2,0.4c0,0.3,0.1,0.5,0.2,0.7c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0.1,0,0.1,0.1,0.2c0,0,0,0,0,0c0,0,0,0.1,0.1,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l-1.2,1.7l0.9,0.9L4,11.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0.1,0,0.1,0.1c0,0,0,0,0,0c0.1,0,0.1,0.1,0.2,0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2,0.1c0,0,0,0,0,0c0.2,0.1,0.5,0.2,0.7,0.2l0.4,2h1.2l0.4-2c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0.1,0,0.1,0,0.2-0.1c0,0,0,0,0,0c0,0,0.1,0,0.1-0.1c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0.1,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l1.7,1.2l0.9-0.9L11.1,9.8C11,9.8,11,9.8,11.1,9.8C11,9.8,11.1,9.8,11.1,9.8z M6.8,9.2c-1.2,0-2.2-1-2.2-2.2c0-1.2,1-2.2,2.2-2.2C8,4.8,9,5.8,9,7C9,8.2,8,9.2,6.8,9.2z"/>\n  </svg>')},close:function(){return'\n    <svg class="cs-icon icon-close" width="20" height="20" viewBox="0 0 36 36" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n      <polygon points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n    </svg>')},clear:function(){return'<svg class="cs-icon icon-clear" width="13" height="14" viewBox="0 0 13 14" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n    <use xlink:href="#icon-clear" fill="rgba(240, 240, 240, 1)" transform="translate(0, 1)" />\n    <path id="icon-clear" transform="translate(3,3)" d="M6.5,0C2.9,0,0,2.9,0,6.5C0,10.1,2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5C13,2.9,10.1,0,6.5,0z M1.5,6.5c0-2.8,2.2-5,5-5c1.2,0,2.4,0.5,3.2,1.2L2.2,9.1C1.8,8.3,1.5,7.5,1.5,6.5z M6.5,11.5c-1.2,0-2.3-0.5-3.2-1.2L10.8,4c0.4,0.7,0.7,1.6,0.7,2.5C11.5,9.3,9.3,11.5,6.5,11.5z"/>\n  </svg>')},hamburger:function(){return'\n    <svg class="cs-icon" width="30px" height="12px" viewBox="0 10 30 12" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n      <path transform="translate(0, 1)" d="M0,15 L17,15 L17,17 L0,17 L0,15 Z M0,11 L17,11 L17,13 L0,13 L0,11 Z M0,19 L17,19 L17,21 L0,21 L0,19 Z" ></path>\n    </svg>\n  ')},file:function(){return'\n    <svg width="20px" height="27px" viewBox="0 0 40 50" role="presentation" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n      <g stroke="none" strokeWidth="1" fill="none" fillRule="evenodd">\n        <g>\n          <path class="file-icon-bg" d="M2.00804893,0 C0.899034128,0 0,0.889064278 0,1.99091407 L0,48.0090859 C0,49.1086374 0.892756032,50 1.99862555,50 L37.2170607,50 C38.3208711,50 39.2156863,49.1011186 39.2156863,47.993136 L39.2156863,13.6363636 L26.1437908,0 L2.00804893,0 Z"></path>\n          <path class="file-icon-fold" d="M26.1437908,0 L26.1437908,11.7296861 C26.1437908,12.8319383 27.0422752,13.7254902 28.1433598,13.7254902 L39.2156863,13.7254902"></path>\n        </g>\n      </g>\n    </svg>')},link:function(e){return'\n  <svg class="link-icon" preserveAspectRatio="none" x="0px" y="0px" width="18px" height="18px" viewBox="0 0 18 18" role="presentation" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n      <path fill="').concat(e,'" stroke="none" d="\n            M 1.45 8.5\n            Q 0.0453125 10.0015625 0 11.9\n            L 0 12.15\n            Q 0.0453125 14.0484375 1.45 15.55\n            L 1.5 15.6\n            Q 3.0015625 17.0046875 4.85 17.05\n            L 5.1 17.05\n            Q 7.0150390625 17.0046875 8.5 15.6\n            L 10.65 13.45\n            Q 10.95 13.15 10.95 12.75 10.95 12.35 10.65 12.05 10.3689453125 11.7689453125 10 11.75\n            L 9.95 11.75\n            Q 9.55 11.75 9.2 12.05\n            L 7.1 14.15\n            Q 6.2 15.05 5 15.05 3.8 15.05 2.9 14.15 2 13.25 2 12.05 2 10.8826171875 2.85 9.95\n            L 5 7.8\n            Q 5.3 7.5 5.3 7.1\n            L 5.3 7.05\n            Q 5.2810546875 6.6810546875 5 6.4 4.7 6.1 4.3 6.1 3.9 6.1 3.55 6.4\n            L 1.45 8.5\n            M 12.05 5\n            Q 11.75 4.7 11.35 4.7 10.95 4.7 10.65 5\n            L 5 10.65\n            Q 4.7 10.95 4.7 11.35 4.7 11.75 5 12.05 5.3 12.35 5.7 12.35 6.1 12.35 6.4 12.05\n            L 12.05 6.4\n            Q 12.35 6.1 12.35 5.7 12.35 5.3 12.05 5\n            M 15.6 1.5\n            L 15.55 1.45\n            Q 14 0 12.05 0\n            L 12 0\n            Q 10.05 0 8.5 1.45\n            L 6.4 3.55\n            Q 6.1 3.9 6.1 4.3 6.1 4.7 6.4 5 6.7 5.3 7.1 5.3 7.5 5.3 7.8 5\n            L 9.95 2.85\n            Q 10.8826171875 2 12.05 2 13.25 2 14.15 2.9 15.05 3.8 15.05 5 15.05 6.2 14.15 7.1\n            L 12.05 9.2\n            Q 11.75 9.55 11.75 9.95 11.75 10.35 12.05 10.65 12.35 10.95 12.75 10.95 13.15 10.95 13.45 10.65\n            L 15.6 8.5\n            Q 17.05 6.96875 17.05 5 17.05 3.05 15.6 1.5 Z"/>\n          </svg>')},settings:function(){return'\n    <svg class="cs-icon" data-ref="settings" width="16px" height="16px" viewBox="0 0 16 16" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n      <path d="M8.94,0 C9.82,0 10.55,0.62 10.63,1.45 L10.73,2.36 C11.1,2.52 11.45,2.71 11.78,2.94 L12.66,2.56 C13.46,2.22 14.39,2.5 14.83,3.23 L15.77,4.77 C16.21,5.5 16,6.4 15.29,6.9 L14.51,7.42 C14.54,8.19 14.53,8.38 14.51,8.58 L15.29,9.11 C16,9.6 16.21,10.51 15.77,11.23 L14.83,12.77 C14.39,13.49 13.46,13.78 12.66,13.44 L11.78,13.06 C11.45,13.29 11.1,13.48 10.73,13.64 L10.63,14.55 C10.55,15.38 9.82,16 8.94,16 L7.06,16 C6.18,16 5.45,15.38 5.37,14.55 L5.27,13.64 C4.9,13.48 4.55,13.29 4.22,13.06 L3.34,13.44 C2.54,13.78 1.61,13.5 1.17,12.77 L0.23,11.23 C-0.21,10.51 0,9.6 0.71,9.11 L1.49,8.58 C1.46,7.81 1.47,7.62 1.49,7.42 L0.71,6.89 C0,6.40 -0.21,5.49 0.23,4.77 L1.17,3.23 C1.61,2.51 2.54,2.22 3.34,2.56 L4.22,2.94 C4.55,2.71 4.9,2.52 5.27,2.36 L5.37,1.45 C5.45,0.62 6.18,0 7.06,0 Z M7.96,4.53 C5.91,4.53 4.25,6.11 4.25,8.06 C4.25,10.01 5.91,11.59 7.96,11.59 C10.02,11.59 11.68,10.01 11.68,8.06 C11.68,6.11 10.02,4.53 7.96,4.53 Z"></path>\n    </svg>\n    ')},playbackSpeed:function(){return'\n    <svg class="cs-icon" width="15" height="15" viewBox="0 0 15 15" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n      <path d="M5.9 4.0L10.4 7.4L5.9 10.8V4.0ZM1.5 8.2H0.0C0.1 9.6 0.6 10.9 1.5 12.0L2.6 11.0C2.0 10.1 1.6 9.2 1.5 8.2H1.5ZM15 7.4H14.9C14.9 5.6 14.3 3.8 13.0 2.4C11.8 1.0 10.0 0.1 8.2 0.0V1.5C10.1 1.7 11.8 2.9 12.8 4.7C13.7 6.4 13.7 8.5 12.8 10.2C11.8 12.0 10.1 13.1 8.2 13.4V14.9C10.0 14.7 11.8 13.8 13.0 12.5C14.3 11.1 14.9 9.3 14.9 7.4L15 7.4ZM3.6 12.1L2.5 13.1C3.7 14.1 5.1 14.8 6.7 14.9V13.4V13.4C5.5 13.3 4.5 12.8 3.6 12.1V12.1ZM2.6 3.9L1.5 2.8C0.6 3.9 0.1 5.3 0 6.7H1.5H1.5C1.6 5.7 2.0 4.7 2.6 3.9H2.6ZM6.7 1.5V0.0C5.1 0.1 3.7 0.7 2.5 1.7L3.6 2.8C4.5 2.1 5.5 1.6 6.7 1.5V1.5Z" stroke="none" />\n    </svg>\n  ')},track:function(e,t){return'\n    <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="16px" viewBox="0 0 24 16" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n      <defs>\n        <rect id="').concat(t,'-track" x="2" y="3.5" width="20" height="9" rx="4.5"></rect>\n        <filter x="-12.5%" y="-27.8%" width="125.0%" height="155.6%" filterUnits="objectBoundingBox" id="').concat(t,'-trackFilter">\n          <feGaussianBlur stdDeviation="1.5" in="SourceAlpha" result="shadowBlurInner1"></feGaussianBlur>\n          <feOffset dx="0" dy="1" in="shadowBlurInner1" result="shadowOffsetInner1"></feOffset>\n          <feComposite in="shadowOffsetInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"></feComposite>\n          <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0" type="matrix" in="shadowInnerInner1"></feColorMatrix>\n        </filter>\n      </defs>\n      <g class="thumb-off" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle class="thumb" stroke-width="0" cx="8" cy="8" r="6"></circle>\n        </g>\n      </g>\n      <g class="thumb-on" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n          <use class="track" fill-rule="evenodd" xlink:href="#').concat(t,'-track"></use>\n          <use fill="black" fill-opacity="1" filter="url(#').concat(t,'-trackFilter)" xlink:href="#').concat(t,'-track"></use>\n          <use class="border" stroke-width="1" xlink:href="#').concat(t,'-track"></use>\n          <circle fill="').concat(e,'" stroke-width="0" cx="16" cy="8" r="6"></circle>\n        </g>\n      </g>\n    </svg>\n  ')},downArrow:function(e,t){return'\n    <div style="height: 100%; width: 100%; background-color: '.concat(e,"; border-right: 1px solid; border-bottom: 1px solid; border-color: ").concat(t,'; border-bottom-right-radius: 3px; transform: rotate(45deg);" />\n    ')},checkmark:function(){return'<svg  class="cs-icon check-icon" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",' width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <polygon style="fill:currentColor !important" points="12.04 4 13.45 5.41 6.25 12.62 2 8.36 3.41 6.95 6.25 9.79"></polygon>\n      </g>\n    </svg>')},lock:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 Z"></path>\n        </g>\n    </g>\n</svg>'},lockedViewed:function(){return'<svg width="16px" height="12px" viewBox="0 0 9 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#FFFFFF" fill-rule="nonzero">\n            <path style="fill:currentColor !important" d="M7.875,4 L7.3125,4 L7.3125,2.85714286 C7.3125,1.28 6.0525,0 4.5,0 C2.9475,0 1.6875,1.28 1.6875,2.85714286 L1.6875,4 L1.125,4 C0.50625,4 0,4.51428571 0,5.14285714 L0,10.8571429 C0,11.4857143 0.50625,12 1.125,12 L7.875,12 C8.49375,12 9,11.4857143 9,10.8571429 L9,5.14285714 C9,4.51428571 8.49375,4 7.875,4 Z M7.11248548,6.17405922 C7.38175483,6.47268397 7.38175483,6.92847965 7.0966461,7.21138731 L4.53066757,9.75755627 C4.38811321,9.8990101 4.19804072,9.96187847 4.02380761,9.96187847 C3.83373513,9.96187847 3.65950202,9.8990101 3.51694766,9.75755627 L2.34544071,8.45018243 C2.06033199,8.16727477 2.06033199,7.71147909 2.34544071,7.42857143 C2.63054944,7.14566377 3.08989127,7.14566377 3.375,7.42857143 L4.02380761,8.21728122 L6.08292619,6.17405922 C6.36803491,5.89115155 6.82737675,5.89115155 7.11248548,6.17405922 Z M4.5,1.08571429 C5.461875,1.08571429 6.24375,1.88 6.24375,2.85714286 L6.24375,4 L2.75625,4 L2.75625,2.85714286 C2.75625,1.88 3.538125,1.08571429 4.5,1.08571429 Z"></path>\n        </g>\n    </g>\n</svg>'},languagePicker:function(){return'\n<svg class="cs-icon" viewBox="0 0 48 48" width="16" height="16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M23.99 4c-11.05 0-19.99 8.95-19.99 20s8.94 20 19.99 20c11.05 0 20.01-8.95 20.01-20s-8.96-20-20.01-20zm13.85 12h-5.9c-.65-2.5-1.56-4.9-2.76-7.12 3.68 1.26 6.74 3.81 8.66 7.12zm-13.84-7.93c1.67 2.4 2.97 5.07 3.82 7.93h-7.64c.85-2.86 2.15-5.53 3.82-7.93zm-15.48 19.93c-.33-1.28-.52-2.62-.52-4s.19-2.72.52-4h6.75c-.16 1.31-.27 2.64-.27 4 0 1.36.11 2.69.28 4h-6.76zm1.63 4h5.9c.65 2.5 1.56 4.9 2.76 7.13-3.68-1.26-6.74-3.82-8.66-7.13zm5.9-16h-5.9c1.92-3.31 4.98-5.87 8.66-7.13-1.2 2.23-2.11 4.63-2.76 7.13zm7.95 23.93c-1.66-2.4-2.96-5.07-3.82-7.93h7.64c-.86 2.86-2.16 5.53-3.82 7.93zm4.68-11.93h-9.36c-.19-1.31-.32-2.64-.32-4 0-1.36.13-2.69.32-4h9.36c.19 1.31.32 2.64.32 4 0 1.36-.13 2.69-.32 4zm.51 11.12c1.2-2.23 2.11-4.62 2.76-7.12h5.9c-1.93 3.31-4.99 5.86-8.66 7.12zm3.53-11.12c.16-1.31.28-2.64.28-4 0-1.36-.11-2.69-.28-4h6.75c.33 1.28.53 2.62.53 4s-.19 2.72-.53 4h-6.75z"/>\n</svg>\n  '}},Wa={play:function(){return'<svg id="icon-play" class="cs-icon play-icon" width="14" height="16" viewBox="0 0 14 16" focusable="false" '.concat(DS.flagManager.narratorSupport?'aria-hidden="true"':"",'>\n    <path d="M1.4 15.4C0.8 15.8 0 15.3 0 14.5L0 1.4C0 0.6 0.8 0.1 1.4 0.5L12.9 7.1C13.5 7.5 13.5 8.4 12.9 8.8L8.0 11.6L1.4 15.4Z" stroke="none" />\n  </svg>')}},za=function(e){return DS.detection.env.isPerpetual?Ua[e]||Va:Wa[e]||Ua[e]||Va};function Za(e){return Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(e)}function Ka(e){return function(e){if(Array.isArray(e))return qa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ga(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||Qa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qa(e,t){if(e){if("string"==typeof e)return qa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qa(e,t):void 0}}function qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ya(e,t){return Ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ya(e,t)}function Xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Ja(e);if(t){var r=Ja(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Za(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $a(e)}(this,n)}}function $a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ja(e){return Ja=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ja(e)}function el(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Za(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Za(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Za(o)?o:String(o)),i)}var r,o}function tl(e,t,n){return t&&el(e.prototype,t),n&&el(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var il=function(e){return Fa(e.slideid)},rl=DS,ol=rl.windowManager,al=rl.focusManager,ll=rl.TweenLite,sl=rl.events,cl=rl.pubSub,ul=rl.keyManager,fl=rl.resolver,dl=rl.dom,hl=(dl.hasClass,dl.removeClass),pl=dl.addClass,yl=dl.getParentWithClass,bl=rl._,vl=bl.bindAll,ml=(bl.first,rl.utils),gl=ml.stripTags,wl=(ml.stripPlayer,ml.prefixWithPlayer),Sl=rl.globalEventHelper,kl=Sl.addDocumentListener,Ol=(Sl.removeDocumentListener,rl.detection),Cl=Ol.theme,El=Ol.os,Ll=tl((function e(t,n,i){nl(this,e),this.slideId=t,this.title=n,this.text=i})),Tl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ya(e,t)}(n,e);var t=Xa(n);function n(e){var i;nl(this,n),i=t.call(this,e),vl($a(i),"traverseLinks","performSearch","onSlideChanged","onClear","onReset","loadSlideBankSearchData"),i.animationDuration=.2;var r=G.model.frame.notesData||[];return i.notesBySlideId=r.map((function(e){return new Ll(wl(e.slideId),DS.utils.getPath(fl.resolvePath(e.slideId,DS.presentation),"title"),gl(e.content).trim())})),i.slideTextData=G.model.frame.navData.search||[],i.slideTextBySlideId=i.slideTextData.filter((function(e){return!e.slidebank})).map((function(e){return new Ll(wl(e.slideid),DS.utils.getPath(fl.resolvePath(e.slideid,DS.presentation),"title"),gl(e.Text).trim())})),i.menuOptions=G.model.frame.controlOptions.menuOptions,i.wrapListItems=i.menuOptions.wrapListItems,i.links=G.model.frame.navData.outline.links,i.hasSlideBankSlides=i.slideTextData.some((function(e){return e.slidebank})),i.hasSlideBankSlides&&cl.on(sl.player.RESET,i.onReset),null!=i.clearEl&&i.onClickEl(i.clearEl,i.onClear),cl.on(sl.search.CLEAR,i.onClear),i.onClickEl(i.searchFilterEl,i.onToggleSearchOptions),i.onClick(i.onClickLink),cl.on(sl.window.MAIN_CHANGED,i.onSlideChanged),i}return tl(n,[{key:"loadSlideBankSearchData",value:function(){this.slideBankTextBySlideId=this.slideTextData.filter((function(e){return e.slidebank})).reduce((function(e,t){var n=fl.getSlideBankSlideInstance(t.slideid);return null!==n&&e.push(new Ll(n.absoluteId,n.title(),gl(t.Text))),e}),[])}},{key:"teardown",value:function(){cl.off(sl.window.MAIN_CHANGED,this.onSlideChanged),window.globals.HAS_SLIDE&&cl.off(sl.search.CLEAR,this.onClear)}},{key:"onSlideChanged",value:function(e){var t=this.resultsEl.querySelector(".cs-selected"),n=this.resultsEl.querySelector('[data-slide-id="'.concat(e.absoluteId,'"]'));null!=t&&hl(t,"cs-selected"),null!=n&&(pl(n,"cs-selected"),pl(n,"cs-viewed"),this.updateAriaLabel(n))}},{key:"onReset",value:function(){this.onClear(),this.loadSlideBankSearchData()}},{key:"onFocus",value:function(e){e.relatedTarget;var t=e.target;if(this.el.contains(t)){if(t===this.searchFilterEl||t===this.clearEl)return al.setFocusRectOn(t),this.isFocused=!1,!1;if(t===this.notesCheckEl||t===this.slideCheckEl)return al.setFocusRectOn(t.parentElement),this.isFocused=!1,!1;if(!this.isFocused&&(!Cl.isUnified||ul.isShowFocus)){var n=Ga(this.getItems(),1)[0];this.isFocused=!0,null!=n&&(this.currentItem=n,this.lastSelected!==this.currentItem&&this.focusOnCurrent(),kl("keydown",this.onKeydown))}}return!1}},{key:"getIsSearchVisible",value:function(){return this.searchOptionsEl.classList.contains("visible")}},{key:"setCheckboxesVisible",value:function(e){this.notesCheckEl.hidden=e,this.slideCheckEl.hidden=e}},{key:"onToggleSearchOptions",value:function(e){var t=this,n=this.getIsSearchVisible(),i=n?"remove":"add";this.searchOptionsEl.classList[i]("visible"),n?(clearTimeout(this.checkBoxTimeout),this.checkBoxTimeout=setTimeout((function(){t.setCheckboxesVisible(n)}),200)):this.setCheckboxesVisible(n)}},{key:"onClickLink",value:function(e){if("locked"!==this.menuOptions.flow){var t=yl(e.target,"listitem"),n=t.dataset.slideId;null==n||"restricted"===this.menuOptions.flow&&!e.target.classList.contains("cs-viewed")||(pl(t,"cs-viewed"),this.updateAriaLabel(t),cl.trigger(sl.request.NEXT_SLIDE,n))}}},{key:"updateAriaLabel",value:function(e){Cl.isUnified&&Ka(e.querySelector(".outline-states").children).forEach((function(t){if("none"===window.getComputedStyle(t).display);else{var n=t.getAttribute("aria-label"),i=e.getAttribute("data-slide-title");e.children[0].textContent=i+" "+n}}))}},{key:"traverseLinks",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];il(n)||this.searchResults.has(n.slideid)||(this.noSearchTerm||n.displaytext.toLowerCase().indexOf(this.term)>=0)&&this.searchResults.set(n.slideid,n.displaytext),null!=n.links&&this.traverseLinks(n.links)}}},{key:"getDefaultSate",value:function(e){var t=ol.getCurrentWindow().getCurrentSlide().absoluteId===e||fl.resolvePath(e).viewed,n=this.menuOptions.flow;if(t)switch(n){case"free":case"restricted":return G.model.getString("acc_visited");case"locked":return"".concat(G.model.getString("acc_visited"),", ").concat(G.model.getString("acc_locked"))}else switch(n){case"free":return"";case"restricted":case"locked":return G.model.getString("acc_locked")}}},{key:"performSearch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(window.globals.HAS_SLIDE){this.term=t.toLowerCase(),this.items=null,this.noSearchTerm=""===t,this.searchResults=new Map,this.resultsEl.innerHTML="",this.slideTextEnabled=this.slideCheckEl.checked,this.notesEnabled=this.notesCheckEl.checked;var n=G.model.frame.navData.links;null!=n&&this.traverseLinks(n),this.hasSlideBankSlides&&void 0===this.slideBankTextBySlideId&&this.loadSlideBankSearchData();var i=function(t){t.forEach((function(t){(t.text.toLowerCase().indexOf(e.term)>=0||t.title.toLowerCase().indexOf(e.term)>=0)&&e.searchResults.set(t.slideId,t.title)}))},r=!this.noSearchTerm;this.slideTextEnabled&&r&&i(this.slideTextBySlideId),this.hasSlideBankSlides&&r&&i(this.slideBankTextBySlideId),this.notesEnabled&&r&&i(this.notesBySlideId);El.isIOS;var o=this.wrapListItems?"":"no-wrap",a=ol.getCurrentWindow().getCurrentSlide().absoluteId,l=0;this.searchResults.forEach((function(t,n){0;var i=a===n?"cs-selected":"",r=document.createElement("li"),s=fl.resolvePath(n).viewed?"cs-viewed":"",c=e.menuOptions.flow,u=e.getDefaultSate(n),f='\n      <div role="menuitem" class="cs-listitem listitem '.concat(i," ").concat(o," ").concat(s," ").concat("free"!==c&&"cs-"+c,'"\n           data-slide-id="').concat(n,'"\n           data-slide-title="').concat(t,'"\n           tabindex="').concat(l,'"\n           role = "treeitem">\n          <span style="position: absolute; opacity: 0;">').concat(t," ").concat(u,"</span>");Cl.isUnified?f+='\n           <span class="linkText" aria-hidden="true">\n             '.concat(t,'\n           </span>\n           <span class="outline-states" aria-hidden="true">\n             <span class="visitedIcon" aria-label="').concat(G.model.getString("acc_visited"),'">\n               ').concat(za("checkmark")(),'\n             </span>\n             <span class="lockedIcon" aria-label="').concat(G.model.getString("acc_locked"),'">\n               ').concat(za("lock")(),'\n             </span>\n             <span class="lockedViewedIcon" aria-label="').concat(G.model.getString("acc_visited"),", ").concat(G.model.getString("acc_locked"),'">\n               ').concat(za("lockedViewed")(),"\n             </span>\n           </span>\n        </div>\n      "):f+="\n             ".concat(t,"\n        </div>"),r.innerHTML=f,e.resultsEl.appendChild(r),l=-1}))}}},{key:"onClear",value:function(){var e=this,t=this.view.parent.children,n=t.outline,i=t.search;this.outlineUl=this.outlineUl||document.querySelector("#outline-content ul"),n.setVisibility(!0),ll.to(this.el,this.animationDuration,{alpha:0,onComplete:function(){ll.to(e.outlineUl,e.animationDuration,{alpha:1}),e.view.setVisibility(!1),i.children.bottomDiv.el.style.opacity=1,ul.isShowFocus&&e.el.contains(document.activeElement)&&n.el.focus()}}),this.term="",i.children.searchInput.el.value="",hl(document.body,"search-results-active"),cl.trigger(sl.search.UPDATE_PANEL)}},{key:"hasListItems",value:function(){return!_.isEmpty(this.getItems())}},{key:"getItems",value:function(){return this.items=this.items||Ka(this.el.querySelectorAll(".cs-listitem")),this.items}},{key:"activateItem",value:function(){this["locked"!==this.menuOptions.flow?"onClickLink":"onCarrotClick"]({target:this.currentItem})}},{key:"findIndexCb",value:function(e,t){return e===t}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"onAfterVisible",value:function(){this.view.parent.children.outline.setVisibility(!1)}}]),n}(Ha),xl=Tl;function Pl(e){return Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(e)}function Il(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Pl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Pl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Pl(o)?o:String(o)),i)}var r,o}function _l(){return _l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rl(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},_l.apply(this,arguments)}function Dl(e,t){return Dl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dl(e,t)}function jl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Rl(e);if(t){var r=Rl(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Pl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Al(e)}(this,n)}}function Al(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rl(e){return Rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rl(e)}var Bl=DS,Ml=Bl.pubSub,Hl=Bl.events,Nl=Bl.utils.toSeconds,Fl=Bl.constants.MOBILE_ANIMATION_DURATION,Vl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dl(e,t)}(o,e);var t,n,i,r=jl(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),_.bindAll(Al(t),"onClear"),t.animationDuration=Nl(Fl),Ml.on(Hl.sidebar.HIDE_SEARCH,t.onClear),t}return t=o,(n=[{key:"onClear",value:function(){_l(Rl(o.prototype),"onClear",this).call(this)}},{key:"onClickLink",value:function(e){_l(Rl(o.prototype),"onClickLink",this).call(this,e),Ml.trigger(Hl.tab.HIDE),Ml.trigger(Hl.sidebar.CLOSE),Ml.trigger(Hl.topEllipsesPanel.HIDE)}}])&&Il(t.prototype,n),i&&Il(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(xl);function Ul(e){return Ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(e)}function Wl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ul(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ul(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ul(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zl="searchResults",Zl=G.def(zl,Vl,(function(e){var t,n=G.model,i=n.rtl?"rtl":"";return Wl(t={attrs:{id:zl+"-content",class:"cs-menu cs-panel panel".concat(i),tabindex:-1},z:2,x:0,y:0,w:"100%"},"y",(function(){return 48})),Wl(t,"h",(function(){return this.parent.h})),Wl(t,"visible",!1),Wl(t,"html",'\n     <div class="outline-title">'.concat(n.title.text,'</div>\n      <span class="cs-outline search-content">\n        <div style="display:none">\n          <span class="flex-static-auto">\n            <h4 data-ref="title" class=\'cs-heading search-heading panel-section-heading\'>\n              ').concat(n.getString("search_results"),'\n            </h4>\n            <button class="btn-unstyled search-filter cs-search-filter" tabindex="0" data-ref="searchFilter">\n              <span>').concat(n.getString("filter"),"</span>\n              ").concat(Pn("filter")(),'\n            </button>\n          </span>\n          \n          <div class="search-options flex-static-auto" data-ref="searchOptions">\n            <p>').concat(n.getString("search_in"),'</p>\n            <label>\n              <input data-ref="notesCheck" type="checkbox" checked>\n              <span>').concat(n.getString("transcript_chk"),'</span>\n            </label>\n            <label>\n              <input data-ref="slideCheck" type="checkbox" checked>\n              <span>').concat(n.getString("slide_text_chk"),'</span>\n            </label>\n          </div>\n        </div>\n        <div class="search-results is-scrollable" tabindex="0" data-ref="searchResults">\n          <ul data-ref="results"></ul>\n        </div>\n       \n        <button data-ref="clear" class="btn search-clear cs-button flex-static-auto">\n          <span>').concat(n.getString("clear"),"</span>\n          ").concat(Pn("clear")(),"\n        </button>\n      </span>\n    ")),t}));function Kl(e){return Kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(e)}function Gl(e){return function(e){if(Array.isArray(e))return Ql(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ql(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ql(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ql(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ql(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Kl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Kl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Kl(o)?o:String(o)),i)}var r,o}function Yl(){return Yl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=es(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Yl.apply(this,arguments)}function Xl(e,t){return Xl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xl(e,t)}function $l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=es(e);if(t){var r=es(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Kl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jl(e)}(this,n)}}function Jl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function es(e){return es=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},es(e)}var ts,ns=DS,is=ns.detection,rs=ns.pubSub,os=ns._,as=ns.events,ls=ns.keyManager,ss=ns.resolver,cs=ns.windowManager,us=ns.utils.prefixWithPlayer,fs=ns.focusManager.setFocusRectOn,ds=ns.globalEventHelper.addDocumentListener,hs=ns.dom,ps=hs.parentNodesOf,ys=hs.getParentWithClass,bs=hs.hasClass,vs=hs.addClass,ms=hs.removeClass,gs=function(e){return ps(e,(function(e){return"li"===e.nodeName.toLowerCase()}))},ws=function(e){return gs(e).slice(1).some((function(e){return bs(e,"item-collapsed")}))},Ss=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xl(e,t)}(o,e);var t,n,i,r=$l(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),os.bindAll(Jl(t),"updateVisitedSlides","onSlideChanged","onSelectFirstSlideLink","addSlideToVisited","visuallyUpdateLinks","collapseLastItem","onClickLink","onCarrotClick","onClickItem","centerOnFocused","setDrawSlides","mouseDown","mouseUp"),t.visitedSlides=new Set,t.menuOptions=G.model.frame.controlOptions.menuOptions,rs.once(as.resume.SET_DATA,t.updateVisitedSlides),rs.on(as.window.MAIN_CHANGED,t.onSlideChanged),rs.on(as.mobile.OUTLINE_SHOWN,t.centerOnFocused),rs.on(as.navData.SELECT_FIRST_SLIDE_LINK,t.onSelectFirstSlideLink),t.removeDocListeners=os.flow(ds("mousedown",t.mouseDown),ds("mouseup",t.mouseUp)),null!=DS.presentation.getDrawPromise&&DS.presentation.getDrawPromise().then(t.setDrawSlides),t.isTopTabChild=G.model.topTabs.some((function(e){return"outline"===e.name})),DS.flagManager.localizationPlatform&&rs.on(as.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Jl(t))),rs.on(as.navData.REFRESH_VIEW,(function(){if(DS.flagManager.localizationPlatform){var e=DS.utils.getPath(t.el.querySelector(".cs-selected"),"dataset.ref");t.view.updateHtml(),t.view.update(),t.view.initChildRefs(),t.visuallyUpdateLinks();var n=DS.utils.getPath(t.view,["children",e,"el"]);null!=n&&vs(n,"cs-selected")}else t.view.updateHtml(),t.view.update()})),t}return t=o,n=[{key:"teardown",value:function(){rs.off(as.window.MAIN_CHANGED,this.onSlideChanged),rs.off(as.mobile.OUTLINE_SHOWN,this.centerOnFocused),this.removeDocListeners()}},{key:"focusSelf",value:function(){this.getItems().find((function(e){return 0===e.parentNode.tabIndex})).parentNode.focus()}},{key:"onFocus",value:function(){var e=this;this.isMouseDown||(null!=this.view.parent.children.search&&is.theme.isUnified?setTimeout((function(){e.el.contains(document.activeElement)&&Yl(es(o.prototype),"onFocus",e).call(e)}),500):Yl(es(o.prototype),"onFocus",this).call(this))}},{key:"mouseDown",value:function(){this.isMouseDown=!0}},{key:"mouseUp",value:function(){this.isMouseDown=!1}},{key:"onClickItem",value:function(e){var t=this;if(is.theme.isUnified){var n=ys(e.target,"listitem");bs(e.target,"carrot")&&(t.onCarrotClick(n),1)||n&&bs(n.parentNode,"item-collapsible")&&(t.onCarrotClick(n),!bs(n,"is-promoted-slide"))||"locked"!==t.menuOptions.flow&&t.onClickLink(n)}else("locked"!==this.menuOptions.flow?this.onClickLink:this.onCarrotClick)(e.target)}},{key:"visuallyUpdateLinks",value:function(){var e=this;this.visitedSlides.forEach((function(t){var n=e.view.children[t];null!=n&&(is.theme.isUnified?e.updateViewedState(n.el):vs(n.el,"cs-viewed"))})),is.theme.isUnified&&(this.setComplete("div.is-promoted-slide"),this.setComplete("div.is-scene",1))}},{key:"setComplete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.el.querySelectorAll(e);Array.from(i).forEach((function(e){Array.from(e.parentNode.querySelectorAll("div")).slice(n).every((function(e){return bs(e,"cs-viewed")}))&&(vs(e,"cs-complete"),t.updateAriaLabel(e))}))}},{key:"updateVisitedSlides",value:function(e,t){null!=e&&(e.forEach(this.addSlideToVisited),this.visuallyUpdateLinks())}},{key:"getNextItem",value:function(e){var t,n=this,i=this.getItems(),r=i.findIndex((function(t){return n.findIndexCb(t,e)}));do{(r+=1)===i.length&&(r=0),t=i[r]}while(ws(t));return t}},{key:"getPrevItem",value:function(e){var t,n=this,i=this.getItems(),r=i.findIndex((function(t){return n.findIndexCb(t,e)}));do{-1==(r-=1)&&(r=i.length-1),t=i[r]}while(ws(t));return t}},{key:"addSlideToVisited",value:function(e){var t=e.absoluteId,n=e.getScene().absoluteId;this.visitedSlides.add(n).add(t)}},{key:"isCurrentLinkParent",value:function(e,t){return e.el===this.view.children[t].el&&e.el.getAttribute("data-has-links")&&!e.el.getAttribute("data-is-scene")}},{key:"onSelectFirstSlideLink",value:function(){var e=this.view.el.querySelector("ul > li > div:not(.is-scene)");if(null!=e){var t=e.getAttribute("data-ref");this.selectLink(e,t)}}},{key:"onSlideChanged",value:function(e){if(this.addSlideToVisited(e),!this.currentItem||ys(this.currentItem,"listitem").getAttribute("data-ref")!=e.absoluteId){var t=e.absoluteId,n=this.view.children[t];if(null==n){var i=e.getSlideDraw();null!=i&&(t=i.absoluteId,n=this.view.children[t])}null!=n&&this.selectLink(n.el,t)}}},{key:"selectLink",value:function(e,t){var n=this;this.onClickLink(e,!0),ps(e,(function(i){i.classList.contains("item-collapsed")&&(n.isCurrentLinkParent(e,t)||(ms(i,"item-collapsed"),i.setAttribute("aria-expanded",!0)))}),(function(e){return n.el===e}))}},{key:"collapsibleParents",value:function(e){var t=this;return ps(e,(function(e){return e.classList.contains("item-collapsible")}),(function(e){return t.el===e}))}},{key:"collapseLastItem",value:function(e){var t=this;null!=this.lastExpandedEls&&this.menuOptions.autocollapse&&this.lastExpandedEls.forEach((function(n){n.contains(e)||bs(n,"item-collapsed")||t.toggleScene(n)}))}},{key:"toggleScene",value:function(e){var t,n=bs(e,"item-collapsed");if(t=n?"remove":"add",e.classList[t]("item-collapsed"),e.setAttribute("aria-expanded",n),is.theme.isUnified){var i=Array.from(e.querySelectorAll("div.listitem")),r=i[0];!function(e,t){if(!n){var i=e.slice(1).filter((function(e){return!bs(e,"is-promoted-slide")&&!bs(e,"is-scene")}));i.some((function(e){return bs(e,"cs-viewed")}))&&ms(t,"cs-unvisited"),i.every((function(e){return bs(e,"cs-viewed")}))&&vs(t,"cs-complete")}}(i,r),this.updateAriaLabel(r)}rs.trigger(as.menuLinksListItem.TOGGLE)}},{key:"updateAriaLabel",value:function(e){var t=[].slice.call(e.querySelector(".outline-states").children),n=e.getAttribute("data-slide-title"),i=e.children[0];t.some((function(e){if("none"!==window.getComputedStyle(e).display){var t=e.getAttribute("aria-label");return i.textContent=n+" "+t,!0}}))||(i.textContent=n)}},{key:"onCarrotClick",value:function(e){if(null!==e){var t=ys(e,"item-collapsible");this.toggleScene(t)}}},{key:"onClickLink",value:function(e,t){var n=this;if(e)if(is.theme.isUnified){var i=e.getAttribute("data-ref"),r=null!=i;if("restricted"!==this.menuOptions.flow||t||this.visitedSlides.has(i)){if(null!=this.currentItem&&e!==this.currentItem&&(this.currentItem.tabIndex=-1,ms(this.currentItem,"hover")),this.currentItem=e,null!=i&&(this.collapseLastItem(e),this.lastExpandedEls=this.collapsibleParents(e),this.lastExpandedEls.forEach((function(e){var t=e.firstElementChild;i.includes(t.getAttribute("data-ref"))&&(vs(t,"cs-viewed"),n.updateAriaLabel(t))}))),bs(e,"listitem")){this.updateViewedState(e);var o=this.el.querySelector(".cs-selected");bs(e,"is-scene")||(null!=o&&(ms(o,"cs-selected"),this.updateAriaLabel(o)),vs(e,"cs-selected"),window.requestAnimationFrame((function(){return n.updateAriaLabel(e)})))}else this.onCarrotClick(e);if(r&&!t){var a=cs.getCurrentWindowSlide().absoluteId;i!=a&&(rs.trigger(as.request.NEXT_SLIDE,i),is.theme.isUnified&&rs.trigger(as.topEllipsesPanel.HIDE)),is.deviceView.isMobile&&(rs.trigger(as.tab.HIDE),(is.deviceView.isPhone||is.theme.isClassic)&&rs.trigger(as.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&fs(this.currentItem)}}else this.onClickLinkOld(e,t)}},{key:"onClickLinkOld",value:function(e,t){var n=e.getAttribute("data-ref"),i=null!=n,r=Fa(n);if("UL"!==e.nodeName)if("restricted"!==this.menuOptions.flow||t||this.visitedSlides.has(n)){if(null!=this.currentItem&&e!==this.currentItem&&(this.currentItem.tabIndex=-1,ms(this.currentItem,"hover")),this.currentItem=e,(r||bs(e.parentNode,"item-collapsible"))&&this.toggleScene(e.parentNode),null!=n&&(this.collapseLastItem(e),this.lastExpandedEls=this.collapsibleParents(e),Array.from(this.lastExpandedEls).forEach((function(e){var t=e.firstElementChild;n.includes(t.getAttribute("data-ref"))&&vs(t,"cs-viewed")}))),bs(e,"listitem")){vs(e,"cs-viewed");var o=this.el.querySelector(".cs-selected");null!=o&&ms(o,"cs-selected"),vs(e,"cs-selected")}else this.onCarrotClick(e);if(i&&!t){var a=cs.getCurrentWindowSlide().absoluteId;r||n==a||(rs.trigger(as.request.NEXT_SLIDE,n),is.theme.isUnified&&rs.trigger(as.topEllipsesPanel.HIDE)),is.deviceView.isMobile&&(rs.trigger(as.tab.HIDE),(is.deviceView.isPhone||is.theme.isClassic)&&rs.trigger(as.sidebar.CLOSE))}null!=this.currentItem&&null!=this.focusor&&fs(this.currentItem)}else bs(e,"carrot")&&this.onCarrotClick(e)}},{key:"updateViewedState",value:function(e){vs(e,"cs-viewed");var t=gs(e).pop();if(!bs(e,"is-scene")&&null!=t){var n=t.querySelector("div.listitem");ms(n,"cs-unvisited")}this.updateAriaLabel(e)}},{key:"isExpanded",value:function(){return!!this.currentItem.dataset.hasLinks&&bs(this.parentElement,"item-collapsed")}},{key:"onKeydown",value:function(e){var t=this.currentItem;if(ls.isActionKey(e.which))this.activateItem(),ls.isSpaceKey(e.which)&&e.preventDefault();else if(ls.isRightKey(e.which)&&t.dataset.hasLinks)bs(this.currentItem.parentNode,"item-collapsed")?this.onCarrotClick(this.currentItem.firstElementChild):this.currentItem=this.getNextItem(this.getItemContent());else if(ls.isDownKey(e.which))this.currentItem=this.getNextItem(this.getItemContent());else if(ls.isUpKey(e.which))this.currentItem=this.getPrevItem(this.getItemContent());else if(ls.isLeftKey(e.which))if(t.dataset.hasLinks&&!bs(t.parentNode,"item-collapsed"))this.onCarrotClick(this.currentItem.firstElementChild);else{var n=ys(this.currentItem,"item-collapsible");null!=n&&(this.currentItem=n.querySelector(".cs-listitem"))}else ls.isHomeKey(e.which)?this.currentItem=this.getFirstItem():ls.isEndKey(e.which)&&(this.currentItem=this.getLastItem());t!==this.currentItem&&(e.preventDefault(),ms(t,"hover"),t.parentNode.tabIndex=-1,this.focusOnCurrent())}},{key:"focusOnCurrent",value:function(){this.centerOnFocused(),document.activeElement!==this.currentItem.parentNode&&(this.currentItem.parentNode.tabIndex=0,vs(this.currentItem,"hover"),this.currentItem.parentNode.focus()),fs(this.currentItem)}},{key:"hasListItems",value:function(){return!os.isEmpty(G.model.frame.navData.outline.links)}},{key:"getItems",value:function(){return this.links=this.links||Gl(this.el.querySelectorAll(".cs-listitem")),this.links}},{key:"activateItem",value:function(){var e="locked"!==this.menuOptions.flow&&null==this.currentItem.dataset.isScene,t=e?"onClickLink":"onCarrotClick",n=e?this.currentItem:this.currentItem.querySelector(".carrot");this[t](n)}},{key:"findIndexCb",value:function(e,t){return e===t}},{key:"getItemContent",value:function(){return this.currentItem}},{key:"getTreeRootEl",value:function(){return this.el.querySelector("ul")}},{key:"getOffsetEl",value:function(){return is.deviceView.isMobile?this.el.parentNode:this.el}},{key:"getOffsetTop",value:function(e){return is.deviceView.isMobile?os.first(ps(e,(function(e){return"li"===e.nodeName.toLowerCase()}))).offsetTop:Yl(es(o.prototype),"getOffsetTop",this).call(this,e)}},{key:"onShowTabItem",value:function(e,t){if("outline"===e&&null!=t){var n=this.getItems().find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}},{key:"scrollToCurrent",value:function(){var e=this;is.deviceView.isMobile&&(this.currentItem=this.getItems().find((function(t){return t.getAttribute("data-ref")===e.currentSlideId}))),Yl(es(o.prototype),"scrollToCurrent",this).call(this)}},{key:"setDrawSlides",value:function(){var e=this;this.view.draws.forEach((function(t){var n=t.link,i=t.links,r=ss.resolvePath(us(n.drawid)),o=function(){var t=n.spliceNum||1,o=r.slides();i.splice.apply(i,[n.index,t].concat(Gl(o.map(e.createNewLink)))),n.spliceNum=o.length,e.view.updateHtml(),e.view.initChildRefs()};r.on(as.draw.RESET_COMPLETE,o),null!=r.slides()&&o()}))}},{key:"createNewLink",value:function(e){var t={kind:"slidelink",expand:!1,type:"slide"};return t.slideid=e.absoluteId,t.slidetitle=t.displaytext=e.get("title"),t}}],n&&ql(t.prototype,n),i&&ql(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Ha),ks=Ss,Os=DS,Cs=Os.pubSub,Es=Os.events,Ls=Os.constants.MOBILE_ANIMATION_DURATION,Ts="outline",xs=function(e){for(var t="";e;)t=e.index+1+"."+t,e=null!=e.parent&&"slidelink"===e.parent.kind&&e.parent;return t+" "},Ps=G.def(Ts,ks,(function(e){var t=G.model,n=G.model.rtl,i=(G.getNamespace(DS.constants.refs.FRAME),n?"rtl":""),r=t.frame.controlOptions.menuOptions,o=r.wrapListItems,a=r.autonumber,l=t.frame.controlOptions.controls.search,s=0;return l&&(Cs.on(Es.sidebar.SHOW_SEARCH,(function(){s=48,ts.update()})),Cs.on(Es.sidebar.HIDE_SEARCH,(function(){setTimeout((function(){s=0,ts.update()}),Ls)}))),{tag:"nav",attrs:{id:Ts+"-content",class:"cs-menu cs-panel is-scrollable cs-outline panel ".concat(i),tabindex:-1},w:"100%",y:function(){return s},h:function(){var e=this.parent.h;return e-s},overflow:"auto",draws:[],updateHook:function(){ts=this},html:function(){var e=this,i=t.frame.navData.outline.links||[];this.el.depth=0,this.el.innerHTML='\n        <div class="outline-title">'.concat(t.title.text,"</div>\n      "),function t(i,r,l){var s=document.createElement("ul");s.depth=r.depth+1,r.appendChild(s);for(var c=0;c<i.length;c++){var u=document.createElement("li"),f=i[c];f.parent=l,f.index=c,u.setAttribute("tabindex",-1),s.appendChild(u),u.depth=s.depth;var d=null!=f.links,h=15*u.depth+5,p=f.slideid;null==p&&e.draws.push({link:f,links:i,i:c});var y=Fa(p);u.innerHTML='\n            <div\n              class="cs-listitem listitem '.concat(o?"":"no-wrap",'"\n              style="padding-').concat(n?"right":"left",": ").concat(h,'px;"\n              data-ref="').concat(p,'"\n              data-slide-title="').concat(i[c].displaytext,'"\n              ').concat(y?'data-is-scene="true"':"","\n              ").concat(d?'data-has-links="true"':"",'\n              tabIndex="-1"\n              >\n\n               ').concat(a?xs(f):""," ").concat(f.displaytext,"\n            </div>\n          "),d&&(u.classList.add("item-collapsible"),f.expand||u.classList.add("item-collapsed"),t(f.links,u,f))}}(i,this.el)}}}));function Is(e){return function(e){if(Array.isArray(e))return _s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ds="outlineSearch",js=G.def(Ds,(function(){var e=G.model,t=e.frame,n=e.rtl,i=t.controlOptions.controls.search,r=n?"rtl":"";return{attrs:{id:"".concat(Ds,"-content"),class:"outline-search ".concat(r),tabindex:-1},overflow:"scroll",w:"100%",h:"100%",model:t,childViews:[Ps].concat(Is(i?[ya,Zl]:[]))}}));function As(e){return As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(e)}function Rs(e){return function(e){if(Array.isArray(e))return Bs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Bs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ms(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Us(i.key),i)}}function Hs(e,t){return Hs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hs(e,t)}function Ns(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Vs(e);if(t){var r=Vs(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===As(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fs(e)}(this,n)}}function Fs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vs(e){return Vs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vs(e)}function Us(e){var t=function(e,t){if("object"!==As(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==As(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===As(t)?t:String(t)}var Ws=DS,zs=(Ws._,Ws.focusManager),Zs=Ws.detection,Ks=Ws.pubSub,Gs=Ws.events,Qs=Ws.dom,qs=Qs.addClass,Ys=Qs.removeClass,Xs=(Ws.keyManager.isTabKey,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hs(e,t)}(o,e);var t,n,i,r=Ns(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=Fs(t),a=void 0,(i=Us(i="s"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.view.isUnified&&(t.getScrollEl=function(){return t.termsEl},t.getOffsetTop=function(e){return e.offsetTop},t.getOffsetHeight=function(e){return e.offsetHeight+e.nextElementSibling.clientHeight}),t.hasDefinition=Zs.deviceView.isDesktop&&!t.view.isUnified,Ks.on(Gs.glossary.REFRESH_VIEW,(function(){t.view.updateHtml(),t.view.update()})),DS.flagManager.localizationPlatform&&Ks.on(Gs.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(Fs(t))),t}return t=o,(n=[{key:"onClickItem",value:function(e){var t=e.target;if(this.hasDefinition&&null!=t&&"p"!==t.nodeName.toLowerCase()){var n=null!=this.activeItem;n&&(this.activeItem.firstElementChild.setAttribute("aria-expanded",!1),this.activeItem.style.backgroundColor="",this.closeItem(this.activeItem)),n&&this.lastSelected==t||(t.setAttribute("aria-expanded",!0),this.openItem(t.parentElement)),this.lastSelected=t}}},{key:"getNextItem",value:function(e){var t,n=this.getItems(),i=this.getItems().indexOf(this.currentItem);do{(i+=1)===n.length&&(i=0),t=n[i]}while("none"===t.parentElement.style.display);return t}},{key:"getPrevItem",value:function(e){var t,n=this.getItems(),i=this.getItems().indexOf(this.currentItem);do{-1==(i-=1)&&(i=n.length-1),t=n[i]}while("none"===t.parentElement.style.display);return t}},{key:"hasListItems",value:function(){return!DS._.isEmpty(this.model.frame.glossaryData)}},{key:"getItems",value:function(){return this.links=this.links||Rs(this.el.querySelectorAll(".term")),this.links}},{key:"openItem",value:function(e){qs(e,"cs-selected"),e.nextElementSibling.style.display="block",qs(e.nextElementSibling,"open"),this.activeItem=e}},{key:"closeItem",value:function(e){var t=this;Ys(e,"cs-selected"),Ys(e.nextElementSibling,"open"),this.activeItem=null,TweenLite.to(e,.2,{opacity:1,onComplete:function(){e.nextElementSibling.style.display="none",zs.setFocusRectOn(t.currentItem)}})}},{key:"onShowTabItem",value:function(e,t){if("glossary"===e&&null!=t){var n=Rs(this.el.querySelectorAll("[data-translation-id]")).find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&Ms(t.prototype,n),i&&Ms(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Ha));function $s(e){return $s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(e)}function Js(e){return function(e){if(Array.isArray(e))return ec(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ec(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function tc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==$s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==$s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===$s(o)?o:String(o)),i)}var r,o}function nc(e,t){return nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nc(e,t)}function ic(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=oc(e);if(t){var r=oc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===$s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rc(e)}(this,n)}}function rc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oc(e){return oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oc(e)}var ac=DS,lc=(ac.detection,ac.pubSub),sc=ac.events,cc=ac.keyManager.isSpaceKey,uc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nc(e,t)}(o,e);var t,n,i,r=ic(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),lc.on(sc.resources.REFRESH_VIEW,(function(){t.view.updateHtml(),t.view.update()})),DS.flagManager.localizationPlatform&&lc.on(sc.frame.SHOW_TAB_ITEM,t.onShowTabItem.bind(rc(t))),t}return t=o,(n=[{key:"onClickItem",value:function(){}},{key:"hasListItems",value:function(){return(this.model.resourceData.resources||[]).length>0}},{key:"getItems",value:function(){return this.items=this.items||Js(this.el.querySelectorAll(".resource a")),this.items}},{key:"activateItem",value:function(e){cc(e.keyCode)&&DS.windowOpen.open({url:this.currentItem.dataset.url})}},{key:"getOffsetTop",value:function(e){return this.currentItem.offsetTop}},{key:"getFocusRectTarget",value:function(){return this.currentItem.parentNode}},{key:"onShowTabItem",value:function(e,t){if("resource"===e&&null!=t){var n=this.getItems().find((function(e){return e.dataset.translationId===t}));null!=n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}}])&&tc(t.prototype,n),i&&tc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Xs),fc=DS,dc=fc.utils,hc=dc.getPath,pc=dc.stripTags,yc=fc.detection.device.isMobile,bc="resources",vc=G.def(bc,uc,(function(){var e=G.model,t=e.frame,n=e.rtl?"rtl":"";return DS.slideObjectUtils.activeMobileMenuItem(G.model.frame.resourceData.resources,"no-resources"),{attrs:{id:"".concat(bc,"-content"),class:"is-scrollable panel ".concat(n),tabindex:-1},overflow:"",model:t,html:'\n      <h4 class="resources-title '.concat(n,'" tabindex="-1">\n        ').concat(pc(hc(t,"resourceData.description")),"\n      </h4>\n      <div class='resources-content panel-content'>\n        <ul>\n          ").concat(hc(t,"resourceData.resources",[]).reduce((function(e,t,n){var i=yc?"data-url":"href",r=yc?t.url:"javascript:DS.windowOpen.open({ url: '".concat(t.url,"' })"),o=yc?'target="_blank"':"";return"".concat(e,'\n              <li class="cs-listitem resource" tabindex="-1"\n                data-url="').concat(t.url,'"\n                id="resource-').concat(n,'"\n                role="presentation">\n                  <a href="').concat(t.url,'" ').concat(i,'="').concat(r,'" ').concat(o,' tabindex="').concat(0===n?0:-1,'">\n                    <img src="').concat(t.image,'" role="presentation" tabindex="-1" />\n                    ').concat(t.title,"\n                  </a>\n              </li>")}),""),"\n        </ul>\n      </div>")}})),mc=DS,gc=mc.slideObjectUtils,wc=mc.utils.getPath,Sc="glossary",kc=G.def(Sc,(function(){var e=G.model,t=G.model.rtl?"rtl":"";return gc.activeMobileMenuItem(e.frame.glossaryData,"no-glossary"),{attrs:{id:"".concat(Sc,"-content"),class:"panel ".concat(t),tabindex:-1},w:"100%",h:"100%",model:e,html:'\n      <h4 class="panel-section-heading glossary-title cs-heading">\n        '.concat(e.getString("terms"),'\n      </h4>\n\n      <div data-ref="terms" class="glossary-content scrolling-panel">\n        <ul>\n        ').concat(wc(e,"frame.glossaryData",[]).map((function(e){return'\n              <dt class="glossary-item glossary-term" tabindex="-1">\n                '.concat(e.title,'\n              </dt>\n              <dd class="glossary-item glossary-desc" tabindex="-1">\n                ').concat(e.content,"\n              </dd>\n            ")})).join(""),"\n        </ul>\n      </div>")}}));function Oc(e){return Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(e)}function Cc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Oc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Oc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Oc(o)?o:String(o)),i)}var r,o}function Ec(e,t){return Ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ec(e,t)}function Lc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=xc(e);if(t){var r=xc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Oc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tc(e)}(this,n)}}function Tc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xc(e){return xc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xc(e)}var Pc=/color:#ffffff/gi,Ic=DS,_c=Ic.detection,Dc=Ic.events,jc=Ic.focusManager,Ac=Ic.pubSub,Rc=(Ic.utils,Ic.slideObjectUtils),Bc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ec(e,t)}(o,e);var t,n,i,r=Lc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Ac.on(Dc.window.MAIN_CHANGED,t.onSlideChanged.bind(Tc(t))),DS.flagManager.localizationPlatform&&Ac.on(Dc.transcript.REFRESH_VIEW,t.onRefreshView.bind(Tc(t))),_c.deviceView.isClassicMobile?Ac.on(Dc.mobile.NOTES_SHOWN,t.onHamburgerToggle.bind(Tc(t),!1)):_c.deviceView.isUnifiedMobile&&Ac.on(Dc.hamburger.TOGGLE,t.onHamburgerToggle.bind(Tc(t))),t.forceScrollToTop=!1,t}return t=o,(n=[{key:"onHamburgerToggle",value:function(e){this.forceScrollToTop&&!e&&(this.getScrollElement().scrollTop=0,this.forceScrollToTop=!1)}},{key:"onFocus",value:function(){this.el.focus(),jc.setFocusRectOn(this.el.parentNode)}},{key:"focusSelf",value:function(){this.onFocus()}},{key:"handleTab",value:function(){return this.el.parentElement.focus(),!0}},{key:"onSlideChanged",value:function(e){if(this.lasSlideId!=e.absoluteId){this.lasSlideId=e.absoluteId;var t=(this.model.notesData||[]).find((function(t){return e.absoluteId.includes(t.slideId)}));null!=this.titleEl&&(this.titleEl.innerHTML=e.get("title"));var n=null==t?"":t.content;_c.deviceView.isClassicMobile&&(n=n.replace(Pc,"color:#515557")),this.contentEl.innerHTML=n,Ac.trigger(Dc.transcript.CHANGED),Rc.activeMobileMenuItem(n,"no-transcript"),this.scrollToTop()}}},{key:"onRefreshView",value:function(){var e=DS.windowManager.getMainWindowSlide();null!=e&&this.onSlideChanged(e)}},{key:"scrollToTop",value:function(){_c.deviceView.isDesktop?this.view.el.scrollTop=0:_c.theme.isClassic?0===this.getScrollElement().scrollTop?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0:G.getNamespace(this.view.nameSpace).sidebar.collapsed?this.forceScrollToTop=!0:this.getScrollElement().scrollTop=0}},{key:"getScrollElement",value:function(){return _c.deviceView.isClassicMobile?this.view.parent.el:this.view.el}},{key:"getViewBox",value:function(){return this.view.parent.getBox()}},{key:"teardown",value:function(){Ac.off(Dc.window.MAIN_CHANGED,this.onSlideChanged.bind(this)),DS.flagManager.localizationPlatform&&Ac.off(Dc.transcript.REFRESH_VIEW,this.onRefreshView.bind(this)),_c.deviceView.isClassicMobile?Ac.off(Dc.mobile.NOTES_SHOWN,this.onHamburgerToggle.bind(this,!1)):_c.deviceView.isUnifiedMobile&&Ac.off(Dc.hamburger.TOGGLE,this.onHamburgerToggle.bind(this))}}])&&Cc(t.prototype,n),i&&Cc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt),Mc="transcript",Hc={resources:vc,transcript:G.def(Mc,Bc,(function(){var e=G.model,t=e.rtl?"rtl":"";return{attrs:{id:Mc+"-content",class:"cs-menu cs-panel is-scrollable cs-menu cs-transcript panel ".concat(t),tabindex:-1},w:"100%",h:"100%",html:'\n      <h4 data-ref="title" class="note-title cs-heading panel-section-heading"></h4>\n      <hr class="cs-div"></hr>\n      <div data-ref="content" class="note-content"></div>\n    ',model:e.frame}})),glossary:kc,outline:js};function Nc(e){return function(e){if(Array.isArray(e))return Fc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Fc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Vc=DS.constants.MOBILE_UI_SIZE,Uc=G.def("panels",Mr,(function(){var e=G.model;return{attrs:{class:"panels"},x:0,y:0,wp:function(){return window.innerWidth+2},hp:function(){return window.innerHeight-Vc+2},wl:function(){return window.innerWidth-160},hl:function(){return window.innerHeight+2},bgColor:"white",z:3,visible:!1,html:'\n      <button class="tab-close" data-ref="tabClose" aria-label="'.concat(e.getString("close"),'">\n        ').concat(Pn("close")(),"\n      </button>\n    "),childDef:function(){Wc(e)}}})),Wc=function(e){[].concat(Nc(e.sidebarTabs),Nc(e.topTabsLeft),Nc(e.topTabsRight)).forEach((function(e,t){"customlink"!==e.name&&function(e,t){var n=t.name,i=n+"Panel",r=G.def(i,{attrs:{id:i,class:"tab-panel is-scrollable","aria-labelledby":n+"-tab",role:"tabpanel",tabindex:0},visibility:"no-reflow",visible:!1,overflow:"auto",x:0,y:0,w:"100%",h:"100%"});r.init(),Uc.append(r);var o=Hc[n];null!=o&&(o.init(),r.append(o))}(0,e)}))};function zc(e){return zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(e)}function Zc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==zc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==zc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===zc(o)?o:String(o)),i)}var r,o}function Kc(e,t){return Kc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kc(e,t)}function Gc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Qc(e);if(t){var r=Qc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===zc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Qc(e){return Qc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qc(e)}var qc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kc(e,t)}(o,e);var t,n,i,r=Gc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClick(t.onClickOverlay),t}return t=o,(n=[{key:"onClickOverlay",value:function(e){DS.pubSub.trigger(DS.events.sidebar.CLOSE)}}])&&Zc(t.prototype,n),i&&Zc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt);function Yc(e){return Yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(e)}function Xc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,nu(i.key),i)}}function $c(e,t){return $c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$c(e,t)}function Jc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=tu(e);if(t){var r=tu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Yc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return eu(e)}(this,n)}}function eu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tu(e){return tu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tu(e)}function nu(e){var t=function(e,t){if("object"!==Yc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Yc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Yc(t)?t:String(t)}G.def("visibleOverlay",qc,(function(){return{attrs:{class:"visible-overlay"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},visible:!1,position:"fixed",bgColor:"rgba(0, 0, 0, 0.5)",add:!0}}));var iu=DS,ru=iu.pubSub,ou=iu.captionsManager,au=iu.stringTabler,lu=iu.events.captions,su=lu.SHOW_BUTTON,cu=lu.HIDE_BUTTON,uu=lu.ENABLED,fu=lu.ENABLE,du=iu.detection.theme.isUnified,hu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$c(e,t)}(o,e);var t,n,i,r=Jc(o);function o(e){var t,n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),n=eu(t),a=!0,(i=nu(i="hasTooltip"))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,t.onClick(t.onClickCaptions),t.toggle=!1,ru.on(su,(function(e){return t.onVisibilityChanged(!0)})),ru.on(cu,(function(e){return t.onVisibilityChanged(!1)})),ru.on(uu,t.onCaptionsEnabled.bind(eu(t))),t}return t=o,(n=[{key:"tooltipKey",get:function(){return this.toggle?"acc_cc_hide":"acc_cc_show"}},{key:"onVisibilityChanged",value:function(e){this.view.setVisibility(e,!0),this.view.childVisibilityChanged(),this.toggle=ou.isCaptionEnabled(),this.updateBtn()}},{key:"onCaptionsEnabled",value:function(e){this.toggle=e,this.updateBtn()}},{key:"updateBtn",value:function(){var e=this.toggle?"add":"remove";this.view.el.classList[e]("cs-tabs","cs-selected"),this.view.el.setAttribute("aria-pressed",this.toggle),this.view.el.setAttribute("aria-label",au.getString(this.toggle?"acc_cc_hide":"acc_cc_show")),du&&this.view.updateHtml()}},{key:"onClickCaptions",value:function(e){this.toggleCaptions()}},{key:"toggleCaptions",value:function(){this.toggle=!this.toggle,ru.trigger(fu,this.toggle),this.updateBtn()}},{key:"getViewBox",value:function(){var e=this.view.getBox(),t=(e.h-30)/2;return e.h=30,e.y=e.y+t,e}},{key:"teardown",value:function(){ru.off(su),ru.off(cu),ru.off(uu)}}])&&Xc(t.prototype,n),i&&Xc(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt);function pu(e){return pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(e)}function yu(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==pu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==pu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bu=DS.constants.MOBILE_UI_SIZE,vu="captions";function mu(e){return mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(e)}function gu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Lu(i.key),i)}}function wu(){return wu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cu(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},wu.apply(this,arguments)}function Su(e,t){return Su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Su(e,t)}function ku(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Cu(e);if(t){var r=Cu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===mu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ou(e)}(this,n)}}function Ou(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cu(e){return Cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cu(e)}function Eu(e,t,n){return(t=Lu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lu(e){var t=function(e,t){if("object"!==mu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==mu(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mu(t)?t:String(t)}G.def(vu,hu,(function(){var e,t=G.model;return yu(e={tag:"button",attrs:{id:vu,class:"cs-button btn","aria-label":t.getString("acc_closed_captions"),tabindex:0,"aria-pressed":!0},xp:function(){return this.left||0},xl:function(){return(this.parent.w-this.w)/2},minH:bu,noUpdate:!0,visible:!1,parentAlign:"tr",html:Pn("captions")()},"xp",(function(){return this.left||0})),yu(e,"xl",(function(){return(this.parent.w-this.w)/2})),yu(e,"minW",47),e}));var Tu=DS,xu=Tu.dom,Pu=xu.addClass,Iu=xu.removeClass,_u=Tu.appState,Du=Tu.scaler,ju=Tu.shortcutManager,Au=Tu.events,Ru=Tu.focusManager,Bu=Tu.pubSub,Mu=Tu.keyManager,Hu=Tu.utils.fullScreen,Nu=Tu.globalEventHelper.addDocumentListener,Fu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Su(e,t)}(o,e);var t,n,i,r=ku(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Eu(Ou(t=r.call(this,e)),"hasTooltip",!0),Eu(Ou(t),"tooltipKey","acc_settings"),Eu(Ou(t),"hideTooltipWhenOpen",!0),Eu(Ou(t),"onToggleBackgroundAudio",(function(){Bu.trigger(Au.backgroundAudio.TOGGLE)})),Eu(Ou(t),"toggleBackgroundAudio",(function(){t.updateToggle(t.backgroundAudioSwitchEl,DS.courseAudio.enabled())})),Eu(Ou(t),"onCaptionsEnabled",(function(){t.view.updateHook()})),DS._.bindAll(Ou(t),"onAccessibleTextChanged","onZoomModeChanged","onKeyboardShortcutsChanged"),t.onClickEl(t.settingsBtnEl,t.togglePanel),null!=t.shortcutsSwitchEl&&(t.onClickEl(t.shortcutsSwitchEl,t.toggleShortcuts),DS.pubSub.on(Au.player.ENABLE_KEYBOARD_SHORTCUTS,t.onKeyboardShortcutsChanged)),null!=t.captionsButtonEl&&(t.onClickEl(t.captionsButtonEl,t.toggleCaptions),Bu.on(Au.captions.ENABLED,t.onCaptionsEnabled)),null!=t.resetButtonEl&&t.onClickEl(t.resetButtonEl,t.resetTimeline),null!=t.acctextSwitchEl&&(t.onClickEl(t.acctextSwitchEl,t.toggleAccessibleText),_u.on(Au.player.ACCESSIBLE_TEXT_CHANGED,t.onAccessibleTextChanged)),null!=t.zoomSwitchEl&&(t.onClickEl(t.zoomSwitchEl,t.toggleZoomMode),Bu.on(Au.window.ZOOM_MODE_CHANGED,t.onZoomModeChanged)),t.handleFullScreenChange=t.handleFullScreenChange.bind(Ou(t)),null!=t.fullScreenToggleButtonEl&&(t.onClickEl(t.fullScreenToggleButtonEl,t.toggleFullScreen),t.removeFullScreenListener=Hu.addChangeListener(t.handleFullScreenChange)),null!=t.backgroundAudioSwitchEl&&(t.onClickEl(t.backgroundAudioSwitchEl,t.onToggleBackgroundAudio),Bu.on(Au.backgroundAudio.HAS_TOGGLED,t.toggleBackgroundAudio)),t}return t=o,(n=[{key:"toggleFullScreen",value:function(){_u.toggleFullScreen()}},{key:"handleFullScreenChange",value:function(){Hu.getEl()===_u.getPresoEl()?Pu(this.el,"full-screen"):Iu(this.el,"full-screen")}},{key:"togglePanel",value:function(){this.isOpen?this.hidePanel():(this.showPanel(),this.dismissTooltip())}},{key:"showPanel",value:function(){var e=this;this.isOpen=!0,Pu(this.el,"open"),this.view.updatePanelPosition(),this.settingsBtnEl.setAttribute("aria-expanded",!0),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!0),this.removeShowPanelListener=Nu("keydown",(function(t){return e.handleKeyDown(t)}))}},{key:"hidePanel",value:function(){this.isOpen=!1,Iu(this.el,"open"),this.settingsBtnEl.setAttribute("aria-expanded",!1),null!=this.view.updatePanelDepth&&this.view.updatePanelDepth(!1),null!=this.removeShowPanelListener&&this.removeShowPanelListener()}},{key:"handleKeyDown",value:function(e){Mu.isEscapeKey(e.which)&&(this.hidePanel(),this.settingsBtnEl.focus(),Ru.setFocusRectOn(this.settingsBtnEl))}},{key:"onBlur",value:function(e){null!=e&&this.isOpen&&!this.el.contains(e.relatedTarget)&&(this.hidePanel(),wu(Cu(o.prototype),"onBlur",this).call(this))}},{key:"updateToggle",value:function(e,t){t?(Pu(e,"toggle-on"),Iu(e,"toggle-off")):(Pu(e,"toggle-off"),Iu(e,"toggle-on")),e.querySelector("button").setAttribute("aria-checked",t)}},{key:"onAccessibleTextChanged",value:function(e){this.accTextOn=e,this.updateToggle(this.acctextSwitchEl,this.accTextOn)}},{key:"onKeyboardShortcutsChanged",value:function(e){this.updateToggle(this.shortcutsSwitchEl,e)}},{key:"toggleAccessibleText",value:function(){this.accTextOn=!this.accTextOn,this.updateToggle(this.acctextSwitchEl,this.accTextOn),_u.onToggleAccessibleText(this.accTextOn)}},{key:"onZoomModeChanged",value:function(){this.updateToggle(this.zoomSwitchEl,Du.zoomMode)}},{key:"toggleZoomMode",value:function(){Du.enableZoomMode(!Du.zoomMode),this.updateToggle(this.zoomSwitchEl,Du.zoomMode),Ru.setFocusRectOn(this.zoomSwitchEl.querySelector("button"))}},{key:"toggleShortcuts",value:function(){ju.enableShortcuts(!ju.enabled),this.updateToggle(this.shortcutsSwitchEl,ju.enabled)}},{key:"toggleCaptions",value:function(){G.getNamespace("_frame").captions.viewLogic.toggleCaptions(),this.view.updateHook()}},{key:"resetTimeline",value:function(){G.getNamespace("_frame").reset.viewLogic.resetTimeline()}},{key:"teardown",value:function(){_u.off(Au.player.ACCESSIBLE_TEXT_CHANGED,this.onAccessibleTextChanged),Bu.off(Au.window.ZOOM_MODE_CHANGED,this.onZoomModeChanged),Bu.off(Au.captions.ENABLED,this.onCaptionsEnabled),Bu.off(Au.backgroundAudio.HAS_TOGGLED,this.toggleBackgroundAudio),null!=this.removeFullScreenListener&&this.removeFullScreenListener()}},{key:"onFocus",value:function(e){var t=e.target;if(this.el.contains(t))return Ru.setFocusRectOn(t),this.onHoverIn(e),this.isFocused=!1,!1}}])&&gu(t.prototype,n),i&&gu(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt),Vu=DS,Uu=Vu.dom,Wu=Uu.addClass,zu=Uu.removeClass,Zu=Vu.appState,Ku=Vu.utils,Gu=Ku.pxify,Qu=Ku.getPath,qu=Vu.detection,Yu=(qu.deviceView.isPhone,qu.orientation),Xu=Vu.constants.MOBILE_UI_SIZE,$u="settings";function Ju(e){return Ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(e)}function ef(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function nf(e,t,n){return(t=of(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,of(i.key),i)}}function of(e){var t=function(e,t){if("object"!==Ju(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ju(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ju(t)?t:String(t)}function af(e,t){return af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},af(e,t)}function lf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=cf(e);if(t){var r=cf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Ju(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sf(e)}(this,n)}}function sf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cf(e){return cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cf(e)}G.def($u,Fu,(function(e){var t=G.model,n=(G.model.rtl,G.getNamespace(e)),i=n.optionPane,r=n.captions;return{noUpdate:!0,attrs:{id:$u,class:"cs-settings"},overflow:"visible",minW:Xu,minH:Xu,w:47,h:Xu,z:2,xp:function(){return this.left||0},xl:function(){return 0},y:function(){return this.top||0},methods:{getControlConfigs:function(){return DS.frameModel.hasModernText?[{name:"acctext",labelId:"accessible_text",isOn:function(){return Zu.accessibleTextOn()}}]:[]},getToggleControls:function(){return this.getControlConfigs().map((function(e){var n=e.name,i=e.labelId,r=(0,e.isOn)();return'\n            <div class="switch '.concat(r?"toggle-on":"toggle-off",'" data-ref="').concat(n,'Switch">\n              <label class="switch-label" id="').concat(n,'-label">\n                ').concat(t.getString(i),'\n              </label>\n              <button class="switch-toggle" id="').concat(n,'-switch" tabindex="0" role="switch" aria-checked="').concat(r,'" aria-labelledby="').concat(n,'-label">\n                ').concat(Pn("track")(n),"\n              </button>\n            </div>\n          ")})).join("")},getIconConfigs:function(){return[{name:"captions",labelId:"acc_closed_captions",getIcon:Pn("captions")}]},getIconControls:function(){return this.getIconConfigs().map((function(e){var n=e.name,i=e.labelId,r=e.getIcon;return'\n            <button id="'.concat(n,'-overflow" class="cs-button overflow-button" tabindex="0" aria-label="').concat(t.getString(i),'" data-ref="').concat(n,'Button">\n              ').concat(r(),"\n            </button>          \n          ")})).join("")},updatePanelPosition:function(){if(null!=i){var e=this.children.settingsPanel.el;if(e.style.left=0,!Yu.isLandscape){var t=e.getBoundingClientRect(),n=i.el.getBoundingClientRect(),r=0;t.right>n.right&&(r=n.right-(t.right+10)),t.left<n.left&&(r=n.left-t.left+10),e.style.left=Gu(r)}}}},updateHook:function(){var e=this;window.requestAnimationFrame((function(){return e.updatePanelPosition()}));var t=Qu(r,"viewLogic.toggle");t?(Wu(this.el,"captions-on"),zu(this.el,"captions-off")):(Wu(this.el,"captions-off"),zu(this.el,"captions-on")),this.setVisibility(0!==this.getControlConfigs().length||t)},html:function(){return'\n        <button data-ref="settingsBtn" aria-expanded="false" class="cs-button settings-button" aria-label="'.concat(t.getString("acc_settings"),'" tabIndex="0">\n          ').concat(Pn("settings")(),'\n        </button>\n        <div data-ref="settingsPanel" class="settings-panel top-tabs-drop" tabindex="-1">\n          <div class="icon-buttons">\n            ').concat(this.getIconControls(),'\n          </div>\n          <div class="toggle-buttons">\n            ').concat(this.getToggleControls(),'\n          </div>\n        </div>\n        <div class="panel-down-arrow">\n          ').concat(Pn("downArrow")(),"\n        </div>\n      ")}}}));var uf=DS,ff=uf.detection,df=uf.events,hf=uf.pubSub,pf=uf.svgUtils,yf=uf._.bindAll,bf={remaining:function(e,t){return DS.utils.formatSecondsAsTime(t-e,!0)},totalelapsed:function(e,t){return[e,t].map((function(e){return DS.utils.formatSecondsAsTime(e,!0)})).join(" / ")},elapsed:function(e){return DS.utils.formatSecondsAsTime(e,!0)},none:function(){return""}},vf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&af(e,t)}(o,e);var t,n,i,r=lf(o);function o(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=r.call(this,e),yf(sf(n),"onShow","onHide","onTick"),hf.on((nf(t={},df.timer.SHOW,n.onShow),nf(t,df.timer.HIDE,n.onHide),t)),n.timeFormat=n.getTimeFormat(),n.isPieProgress=ff.theme.isUnified,n}return t=o,(n=[{key:"getTimeFormat",value:function(){if(!ff.deviceView.isClassicMobile){var e=G.model.sidebarOpts.timeFormat;if(e&&null!=bf[e.toLowerCase()])return e.toLowerCase();if(!G.model.sidebarOpts.timeEnabled)return"none"}return"remaining"}},{key:"teardown",value:function(){var e;hf.off((nf(e={},df.timer.SHOW,this.onShow),nf(e,df.timer.HIDE,this.onHide),e))}},{key:"onTick",value:function(e,t,n){if(this.view.children.timerText.el.innerHTML=bf[this.timeFormat](t,n),!ff.deviceView.isClassicMobile){var i=pf.wheelPath(9,9,9,0,360*(1-e),this.isPieProgress);this.view.children.timerPath.el.setAttributeNS(null,"d",i)}}},{key:"onShow",value:function(e){null!=this.currentTimer&&this.onHide(),this.currentTimer=e,this.currentTimer.on("tick",this.onTick),this.toggleVisibility(!0),window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.SHOWN))}},{key:"onHide",value:function(){null!=this.currentTimer&&(this.currentTimer.off("tick",this.onTick),this.currentTimer=null,window.requestAnimationFrame(DS.pubSub.trigger.bind(DS.pubSub,DS.events.timer.HIDDEN))),this.toggleVisibility(!1)}},{key:"toggleVisibility",value:function(e){var t=ef(e?["add","remove"]:["remove","add"],2),n=t[0],i=t[1];document.body.classList[n]("timer-shown"),this.el.classList[i]("hidden"),this.el.classList[n]("shown"),this.view.setVisibility(e),this.view.parent.updateChildren(!0)}},{key:"onFocus",value:function(){var e=this.view.children.timerText.el.getBoundingClientRect(),t=e.left,n=e.top,i=e.width,r=e.height;t-=8,n-=8,i+=37,r+=12,DS.focusManager.setFocusRectOn(this.el,{left:t,top:n,width:i,height:r}),DS.flagManager.narratorSupport&&this.view.children.timerText.el.setAttribute("aria-label",this.view.children.timerText.el.innerText)}}])&&rf(t.prototype,n),i&&rf(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt),mf="timer";G.def(mf,vf,(function(){return{noTabIndex:!0,attrs:{id:mf,"aria-label":"timer",class:"timer"},overflow:"visible",visible:!1,x:0,y:0,w:58,hp:58,hl:34,html:'<div class="timer-text" data-ref="timerText" tabindex="0" data-tabindex="0"></div>'}}));var gf=DS,wf=(gf.detection,gf.detection),Sf=wf.orientation,kf=wf.deviceView,Of="disableOverlay";function Cf(e){return Cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(e)}function Ef(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Cf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Cf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Cf(o)?o:String(o)),i)}var r,o}function Lf(e,t){return Lf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lf(e,t)}function Tf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=xf(e);if(t){var r=xf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Cf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xf(e)}G.def(Of,(function(){var e=G.model,t=e.frame,n=window.globals.parseParams().orientations||null,i=JSON.parse(decodeURIComponent(n))||t.orientations,r=i.phone,o=i.tablet;return{attrs:{id:Of,role:"dialog","aria-modal":!0,"aria-labelledby":"mobile-disabled-orientation-text"},style:{fontSize:"".concat(t.fontscale,"%"),background:"black",color:"white"},x:0,y:0,w:function(){},h:function(){},updateHook:function(){var e=!0;Sf.isLandscape?(kf.isPhone&&r.includes("landscape")||kf.isTablet&&o.includes("landscape"))&&(e=!1):Sf.isPortrait&&(kf.isPhone&&r.includes("portrait")||kf.isTablet&&o.includes("portrait"))&&(e=!1),e&&!Sf.forceHideWarning?document.body.classList.add("show-disabled-overlay"):document.body.classList.remove("show-disabled-overlay"),this.el.setAttribute("aria-hidden",!(e&&!Sf.forceHideWarning))},html:function(){return'<div class="mobile-disabled-orientation-overlay-inner">\n        <div class="mobile-disabled-orientation-overlay-icon">\n          '.concat(Pn("disableOrientation")(),'\n        </div>\n        <div id="mobile-disabled-orientation-text">').concat(e.getString("disabled_orientation"),"</div>\n      </div>")},add:!0}}));var Pf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lf(e,t)}(o,e);var t,n,i,r=Tf(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),new MutationObserver((function(){t.view.onCaptionChanged()})).observe(t.el,{childList:!0,subtree:!0}),t}return t=o,n&&Ef(t.prototype,n),i&&Ef(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(jt),If=DS,_f=If.utils.pxify,Df=If.constants.MOBILE_UI_SIZE,jf=If.detection.orientation;function Af(e){return Af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(e)}function Rf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Af(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Af(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Af(o)?o:String(o)),i)}var r,o}function Bf(e,t){return Bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bf(e,t)}function Mf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Nf(e);if(t){var r=Nf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Af(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hf(e)}(this,n)}}function Hf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nf(e)}G.def("captionContainer",Pf,(function(e){var t=G.getNamespace(DS.constants.refs.FRAME).slide;return{attrs:{class:"caption-container"},overflow:"visible",z:1,wp:function(){return window.innerWidth},wl:function(){return window.innerWidth-Df},hl:function(){return window.innerHeight},hp:function(){return"unset"},yp:null,add:!0,updateHook:function(){jf.isPortrait?(this.el.style.height="unset",this.el.style.top="unset",this.onCaptionChanged()):this.el.style.bottom=""},onCaptionChanged:function(){if(jf.isPortrait){var e=Math.max(0,window.innerHeight-(t.y+t.h+Df));this.el.style.bottom=_f((e-this.el.clientHeight)/2+Df)}}}}));var Ff=DS,Vf=Ff.events,Uf=Ff.pubSub,Wf=Ff._,zf=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bf(e,t)}(o,e);var t,n,i,r=Mf(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),Wf.bindAll(Hf(t),"onEnterFullscreen"),t.onClick(t.onClickClose),t.view.setVisibility(!1),Uf.on(Vf.presentation.ENTER_FULLSCREEN,t.onEnterFullscreen),t}return t=o,(n=[{key:"onEnterFullscreen",value:function(){this.view.setVisibility(!0)}},{key:"onClickClose",value:function(e){var t=this;DS.utils.fullScreen.exit(),setTimeout((function(){Uf.trigger(Vf.presentation.EXIT_FULLSCREEN),t.view.setVisibility(!1)}),300)}}])&&Rf(t.prototype,n),i&&Rf(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt),Zf="fullScreenClose";function Kf(e){return Kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(e)}function Gf(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Jf(i.key),i)}}function Qf(e,t){return Qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qf(e,t)}function qf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Xf(e);if(t){var r=Xf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Kf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yf(e)}(this,n)}}function Yf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xf(e){return Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xf(e)}function $f(e,t,n){return(t=Jf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jf(e){var t=function(e,t){if("object"!==Kf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Kf(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Kf(t)?t:String(t)}G.def(Zf,zf,(function(e){return{tag:"button",attrs:{id:Zf,class:"cs-button btn fullscreen-close-btn",tabindex:0},overflow:"visible",html:'\n      <div class="fullscreen-close-btn-bg"></div>\n      '.concat(Pn("close")(),"\n    "),x:26,y:26,w:18,h:18,noContent:!0}}));var ed=DS,td=ed.events,nd=ed.pubSub,id=ed._,rd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qf(e,t)}(o,e);var t,n,i,r=qf(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),$f(Yf(t=r.call(this,e)),"hasTooltip",!0),$f(Yf(t),"tooltipKey","acc_enter_fullscreen"),id.bindAll(Yf(t),"onExitFullScreen"),t.onClick(t.onClickOpen),nd.on(td.presentation.EXIT_FULLSCREEN,t.onExitFullScreen),t}return t=o,(n=[{key:"onExitFullScreen",value:function(){this.view.setVisibility(!0)}},{key:"onClickOpen",value:function(e){nd.trigger(td.presentation.ENTER_FULLSCREEN),this.view.setVisibility(!1)}}])&&Gf(t.prototype,n),i&&Gf(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt),od="fullScreenOpen",ad=DS.constants.MOBILE_UI_SIZE;function ld(e){return function(e){if(Array.isArray(e))return sd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return sd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}G.def(od,rd,(function(e){G.model;return{tag:"button",attrs:{id:od,class:"cs-button btn fullscreen-open-btn",tabindex:0},html:"\n      ".concat(Pn("enterFullScreen")(),"\n    "),padLeft:6,padRight:6,minW:ad,minH:ad,noUpdate:!0,parentAlign:"br",noContent:!1}}));var cd=DS.constants.refs.FRAME,ud=DS,fd=ud.pubSub,dd=ud.events,hd=ud._.isEmpty,pd=ud.detection,yd=pd.device,bd=pd.env,vd=bd.is360,md=bd.isDevicePreview,gd=bd.enableFs,wd=function(){var e=G.model,t=e.topTabsLeft,n=e.topTabsRight,i=e.sidebarTabs;return!_.isEmpty(t)||!_.isEmpty(n)||!_.isEmpty(i)};function Sd(e){return Sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(e)}function kd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Sd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Sd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Sd(o)?o:String(o)),i)}var r,o}var Od=DS,Cd=Od._,Ed=Od.pubSub,Ld=Od.events,Td=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t.el,this.nameSpace=t.nameSpace,this.el.classList.add(this.nameSpace),Cd.bindAll(this,"onSlideTransitionIn","onWindowClosing"),Ed.on(Ld.slide.ON_TRANSITION_IN,this.onSlideTransitionIn),Ed.on(Ld.window.CLOSING,this.onWindowClosing)}var t,n,i;return t=e,(n=[{key:"onSlideTransitionIn",value:function(e){e.windowId===this.nameSpace&&document.body.classList.add("showing-".concat(this.nameSpace.toLowerCase()))}},{key:"onWindowClosing",value:function(e){e===this.nameSpace&&document.body.classList.remove("showing-".concat(this.nameSpace.toLowerCase()))}}])&&kd(t.prototype,n),i&&kd(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}(),xd="lightBoxWrapper";G.def(xd,Td,(function(){var e=G.model,t=e.slideWidth,n=e.slideHeight;return{attrs:{id:xd,class:"cs-base fn-".concat(e.frame.default_layout)},style:{transformOrigin:"0px 0px"},overflow:"visible",dimScale:function(){var e=.8*Oe.width,i=.8*Oe.height;return Math.min(e/t,i/n)},wl:function(){return t*this.dimScale+58},wp:function(){return t*this.dimScale},hl:function(){return n*this.dimScale},hp:function(){return n*this.dimScale+58},x:function(){return(Oe.width-this.w)/2},y:function(){return(Oe.height-this.h)/2},add:!0}}));var Pd="lightBoxSlide";G.def(Pd,(function(){var e=G.getCurrentNameSpace().lightBoxWrapper;return{attrs:{class:Pd,"aria-live":"assertive",role:"dialog","aria-modal":!0},overflow:"visible",winScale:function(){return e.dimScale},origin:"0 0",wl:function(){return this.parent.wl-58},hl:function(){return this.parent.hl},wp:function(){return this.parent.wp},hp:function(){return this.parent.hp-58},z:1,bgColor:"white",add:!0,html:function(){return'<div id="slide-label-lightbox" data-ref="label" aria-live="polite"></div><main data-ref="container" class="slide-container" transform-origin: 0 0; position: absolute;" tabindex="-1"></main>'}}}));var Id="lightBox";function _d(e){return _d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(e)}function Dd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==_d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==_d(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===_d(o)?o:String(o)),i)}var r,o}function jd(e,t){return jd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jd(e,t)}function Ad(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Rd(e);if(t){var r=Rd(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===_d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Rd(e){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rd(e)}G.def(Id,(function(){return{attrs:{class:"".concat(Id," cs-base")},x:0,y:0,z:1,w:"100%",h:"100%",overflow:"visible"}}));var Bd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jd(e,t)}(o,e);var t,n,i,r=Ad(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClick(t.onClickClose),t}return t=o,(n=[{key:"onClickClose",value:function(e){var t=this.model.windowId;DS.pubSub.trigger(DS.events.window.CLOSING,t)}}])&&Dd(t.prototype,n),i&&Dd(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(jt),Md="lightBoxClose";G.def(Md,Bd,(function(e){var t={windowId:e};return{tag:"button",attrs:{id:Md,class:"lightbox-close-btn-floating",tabindex:0,"aria-label":DS.stringTabler.getString("close")},style:{overflow:"visible"},html:Pn("close"),y:35,x:function(){return window.innerWidth-(this.w+35)},model:t,w:20,h:20}}));var Hd="close",Nd=DS,Fd=Nd.detection.orientation,Vd=Nd.constants.MOBILE_UI_SIZE;G.def(Hd,Bd,(function(e){var t={windowId:e};return{tag:"button",attrs:{id:Hd,class:"cs-button btn",tabindex:0},html:'\n      <div class="icon">\n        '.concat(Pn("close")(),"\n      </div>\n    "),model:t,parentAlign:"t-",w:Vd,h:Vd,noContent:!1,beforeReflowHook:function(){this.setVisibility(Fd.isLandscape)}}}));var Ud="LightboxWnd",Wd=DS.detection.orientation,zd="lightBoxBottom";G.def(zd,(function(e){var t=G.model.rtl;return{tag:"nav",attrs:{id:zd,class:"option-pane"},methods:{getZoomBounds:function(){return G.getNamespace(e).zoomBounds},getParentBB:function(){return null==this.cachedParentBB&&(this.cachedParentBB=this.parent.getBox(),null!=this.cachedParentBB&&(this.cachedParentBB.left=this.cachedParentBB.x,this.cachedParentBB.right=this.cachedParentBB.x+this.cachedParentBB.w,this.cachedParentBB.top=this.cachedParentBB.y,this.cachedParentBB.bottom=this.cachedParentBB.y+this.cachedParentBB.h)),this.cachedParentBB},shouldZoom:function(){return null!=this.getParentBB()&&null!=this.getZoomBounds()}},z:1,xp:function(){if(this.shouldZoom()){var e=this.getZoomBounds(),t=this.getParentBB();return Math.floor(Math.max(e.left,0)-t.left)}return 0},xl:function(){if(this.shouldZoom()){var e=this.getZoomBounds(),t=this.getParentBB();return t.w+(Math.min(e.right,window.innerWidth-58)-t.right)}return this.parent.w-this.w},yp:function(){if(this.shouldZoom()){var e=this.getZoomBounds(),t=this.getParentBB();return t.h+(Math.min(e.bottom,window.innerHeight-58)-t.bottom)}return this.parent.h-this.h},yl:function(){if(this.shouldZoom()){var e=this.getZoomBounds(),t=this.getParentBB();return Math.floor(Math.max(e.top,0)-t.top)}return 0},wp:function(){if(this.shouldZoom()){var e=this.getZoomBounds();return Math.ceil(Math.min(e.right,window.innerWidth)-Math.max(e.left,0))}return this.parent.w},wl:58,hp:58,hl:function(){if(this.shouldZoom()){var e=this.getZoomBounds();return Math.ceil(Math.min(e.bottom,window.innerHeight)-Math.max(e.top,0))}return this.parent.h},updateHook:function(){var e=this;if(this.hasAllChildren()){Wd.isLandscape?this.setVisibility(!0):this.setVisibility(this.children.some((function(t){return t.visible&&t!=e.children.close})));var n={vertical:Wd.isLandscape,alignChild:!0,bounds:{t:0,b:this.h,l:0,r:this.w},reverse:t};this.flowChildren(n),this.cachedParentBB=null}},childVisibilityChangedHook:function(){this.update()}}}));var Zd="LightboxControlsWnd",Kd="printWrapper";G.def(Kd,(function(e){return{attrs:{id:Kd,class:"print-window"},w:0,h:0,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:1,x:0,y:0,add:!0}}));var Gd=DS.constants.printSettings,Qd="printSlide";G.def(Qd,en,(function(e){var t=G.model.slideWidth;return{attrs:{id:Qd,class:"cs-window window-slide ".concat(e,"-slide"),tabindex:-1},style:{overflow:"visible",transformOrigin:"0 0",background:"transparent",display:"none"},origin:"0 0",winScale:function(){return this.w/t},w:function(){var e=DS.detection.os,t=e.isAndroid,n=e.isIOS;return t?Gd.android.pageW:n?Gd.ios.pageW:Gd.desktop.pageW},h:0,x:0,y:0,z:1,html:'<div data-ref="container" class="slide-container"></div>'}}));var qd="PrintWindow";function Yd(e){return Yd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(e)}function Xd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==Yd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Yd(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===Yd(o)?o:String(o)),i)}var r,o}function $d(e,t){return $d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$d(e,t)}function Jd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=eh(e);if(t){var r=eh(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Yd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function eh(e){return eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eh(e)}var th=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$d(e,t)}(o,e);var t,n,i,r=Jd(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=r.call(this,e),DS.pubSub.on(DS.events.messageWindow.SHOWN,(function(){t.view.isNotResume=!0,t.view.update()})),t}return t=o,n&&Xd(t.prototype,n),i&&Xd(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(jt),nh="messageWindowWrapper";G.def(nh,th,(function(e){var t=G.model.preso.display().windows().find({id:e});return{attrs:{id:nh},w:t.get("width"),h:t.get("height"),style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},y:function(){return this.isNotResume?(window.innerHeight-this.h)/2:window.innerHeight/2-this.h/2*this.scale},scalel:function(){return this.isNotResume?1:window.innerWidth/this.w},scalep:function(){return this.isNotResume?.8:window.innerWidth/this.w},xl:function(){return this.isNotResume?(window.innerWidth-this.w)/2:0},xp:function(){return this.isNotResume?(window.innerWidth-.8*this.w)/2:0},add:!0}}));var ih="messageWindowSlide";G.def(ih,en,(function(){return{attrs:{id:ih,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},winScale:1,origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:'<div id="slide-label-message" data-ref="label"></div><div data-ref="container" class="slide-container"></div>'}}));G.def("overlay",(function(){return{attrs:{class:"overlay overlay-message"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",add:!0}}));var rh="MessageWnd",oh="messagePromptWrapper";G.def(oh,(function(e){var t=G.model,n=G.getNamespace(DS.constants.refs.FRAME),i=n.slide,r=n.wrapper,o=t.rtl?"rtl":"";return{attrs:{id:oh,class:"cs-base cs-".concat(t.frame.default_layout," fn-").concat(t.frame.default_layout," ").concat(o)},w:336,h:210,style:{overflow:"visible",transformOrigin:"0 0",background:"transparent"},scale:function(){return r.scale},x:function(){var e=r.scale;return r.x+(i.x+(i.w-this.w)/2)*e},y:function(){var e=r.scale;return r.y+(i.y+(i.h-this.h)/2)*e},add:!0}}));function ah(e){return ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(e)}function lh(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==ah(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ah(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===ah(o)?o:String(o)),i)}var r,o}function sh(){return sh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fh(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},sh.apply(this,arguments)}function ch(e,t){return ch=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ch(e,t)}function uh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=fh(e);if(t){var r=fh(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ah(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function fh(e){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fh(e)}G.def("overlay",(function(){return{attrs:{class:"overlay overlay-message"},x:0,y:0,w:function(){return window.innerWidth},h:function(){return window.innerHeight},position:"fixed",add:!0}}));var dh=DS,hh=dh.events,ph=dh.pubSub,yh=dh.focusManager,bh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ch(e,t)}(o,e);var t,n,i,r=uh(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).onClickEl(t.okButtonEl,t.onClickOk),t}return t=o,(n=[{key:"setPromptId",value:function(e){this.promptId=e}},{key:"onClickOk",value:function(e){var t,n,i=null===(t=this.view)||void 0===t||null===(n=t.getClosingData)||void 0===n?void 0:n.call(t);ph.trigger(hh.prompt.CLOSING,this.promptId),ph.trigger(hh.presentation.ON_OBJECT_EVENT,"".concat(this.promptId,"_closed"),i)}},{key:"onFocus",value:function(e){var t=e.target;this.el.contains(t)&&yh.setFocusRectOn(t)}},{key:"teardown",value:function(){sh(fh(o.prototype),"teardown",this).call(this)}}])&&lh(t.prototype,n),i&&lh(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(en),vh=DS.MicroScrollBar,mh="invalidPromptSlide";G.def(mh,bh,(function(e){var t=G.model;return{attrs:{id:mh,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var e=t.getString("invalid_prompt_title"),n=t.getString("invalid_prompt_message"),i=t.getString("invalid_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new vh(e,"message-window-text"))}}}));var gh=DS,wh=gh.MicroScrollBar,Sh=(gh.pubSub,gh.events,"printPromptSlide");G.def(Sh,bh,(function(e){var t=G.model;return{attrs:{id:Sh,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,methods:{getClosingData:function(){var e=this.children.userNameInput.el,t=e.value;return e.value="",{_ActPrintPromptUsername:t}}},html:function(){var e=t.getString("print_prompt_title"),n=t.getString("print_prompt_message"),i=t.getString("print_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <input data-ref="userNameInput" tabindex="0" type="text">\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new wh(e,"message-window-text"))}}}));var kh=DS.MicroScrollBar,Oh="timerPromptSlide";G.def(Oh,bh,(function(e){var t=G.model;return{attrs:{id:Oh,class:"cs-window","aria-labelledby":"slide-label-message",role:"alertdialog","aria-modal":!0,tabindex:-1},origin:"0 0",w:"100%",h:"100%",x:0,y:0,z:1,html:function(){var e=t.getString("timer_prompt_title"),n=t.getString("timer_prompt_message"),i=t.getString("timer_prompt_button");return'\n        <div class=\'message-window native-message-window\'>\n          <header class="message-window-header">\n            <h1 class="message-window-heading">'.concat(e,'</h1>\n          </header>\n          <div class="message-window-text-wrapper">\n            <div class=\'message-window-text\' data-ref="bodyText">').concat(n,'</div>\n          </div>\n          <div class=\'message-buttons\'>\n            <button data-ref="okButton" tabindex="0">').concat(i,"</button>\n          </div>\n        </div>\n      ")},childDef:function(){var e=this.children.bodyText.el;null==this.scrollbar&&null!=e&&(this.scrollbar=new kh(e,"message-window-text"))}}}));var Ch,Eh={InvalidPrompt:"invalidPromptSlide",PrintPrompt:"printPromptSlide",TimerPrompt:"timerPromptSlide"},Lh=function(e){var t=e,n=Eh[e];return{nameSpace:t,render:function(e){var i=G.tree(t,["overlay",{messagePromptWrapper:[n]}]),r=G.getNamespace(t);return r.slide=r[n],r.wrapper=r.messagePromptWrapper,{all:function(){return G.update(i)},resize:function(){r.isAttached&&(r.overlay.update(),r.messagePromptWrapper.update())}}}}};function Th(e){return Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(e)}function xh(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Th(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Th(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Th(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ph=Lh("InvalidPrompt"),Ih=Ph.render,_h=Ph.nameSpace,Dh=Lh("PrintPrompt"),jh=Dh.render,Ah=Dh.nameSpace,Rh=Lh("TimerPrompt"),Bh=Rh.render,Mh=Rh.nameSpace;!function(e,t){ft(e),function(e){var t=window.globalProvideData;if(window.globalProvideData=function(e,n){"frame"===e&&(null!=(xe=JSON.parse(n)).localization&&DS.flagManager.localizationPlatform?(DS.localizationManager.registerFrameLanguageData(xe.localization),DS.localizationManager.loadFrameData().then((function(e){Pe=e,dt()}))):dt(),window.globalProvideData=t)},nt.on(We,(function(e){new Me,Te=new f(xe,Pe,e),G.setModel(Te),ot.initialize(Te),at.initialize((function(e){return Te.getString(e)})),DS.flagManager.nativePrompts&&he.initializeCssColorVars(),DS.frameModel=Te,DS.views=G,(DS.frameModel.frame.chromeless||DS.detection.env.hideFrame)&&lt.addClass(document.body,"chromeless"),nt.trigger(Ke)})),window.globals.useJson){var n=e.replace(".js",".json"),i=new XMLHttpRequest;return i.overrideMimeType("application/json"),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&window.globalProvideData("frame",i.responseText.replace(/\\'/g,"'").replace(/\\"/g,'"'))},i.open("GET",n,!0),void i.send(null)}DS.loadScript(e)}(t)}((xh(Ch={},cd,(function(e){var t,n,i=e.topTabsLeft,r=e.topTabsRight,o=e.sidebarOpts,a=e.bottomBarOpts,l=e.sidebarOpts.timeEnabled,s=e.frame.controlOptions.controls,c=s.closed_captions,u=s.settings,f=G.tree(cd,[{wrapper:["slide",{frame:[{optionPane:[].concat(ld(wd()?["hamburger"]:[]),[{playbackControls:["playPause","seek"].concat(ld(c?["captions"]:[]),ld(u?["settings"]:[]),ld(yd.isTablet&&vd?["fullScreenOpen"]:[]))},{navControls:["prev","next","submit"].concat(ld(l?["timer"]:[]))}])}]},"panels","visibleOverlay","captionContainer",{sidebar:["tabs"]}]}].concat(ld(vd?[]:["disableOverlay"]),["fullScreenClose"]));n=!hd(i)||!hd(r),o.sidebarEnabled||a.bottomBarEnabled||n||!t&&vd&&(!md||gd)||G.getNamespace(cd).optionPane.setVisibility(!1),fd.on(dd.frameModel.LAYOUT_CHANGED,(function(e,t){if(t===cd){var n={playPause:e.seekbar,seek:e.seekbar,next:e.next,prev:e.previous,submit:e.submit,glossaryLink:e.glossary,outlineLink:e.outline.enabled,transcriptLink:e.transcript,resourcesLink:e.resources};fd.trigger(dd.frame.LAYOUT_READY,n),G.resetStates(cd),G.updateVisibility(n,cd),G.update(f)}})),DS.pubSub.on(DS.events.navcontrols.CHANGED,(function(e){var t=e.kind,n=e.name,i=e.visible,r=e.enable,o="toggle_window_control_visible"===t||"toggle_window_control"===t;"previous"===n&&(n="prev");var a=G["enable_window_control"===t||"toggle_window_control"===t?"getTopNameSpace":"getFrameNameSpace"]()[n];null!=a&&(o?"toggle_window_control_visible"===t?(a.setVisibility(!a.visible),a.childVisibilityChanged()):a.setEnabled(!a.enabled):"set_window_control_visible"===t?(a.setVisibility(i),a.childVisibilityChanged()):a.setEnabled(r))}));return{all:function(){return G.update(f)},resize:function(){G.update(f),G.getNamespace(cd).panels.children.forEach((function(e){null!=e.update&&(e.update(),e.updateChildren(!0))}))}}})),xh(Ch,Ud,(function(e){var t=G.tree(Ud,["visibleOverlay",{lightBoxWrapper:["lightBoxSlide",{lightBox:[{lightBoxBottom:["close","captions"]}]}]},"captionContainer","lightBoxClose"]),n=G.getNamespace(Ud);return n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper,n.visibleOverlay.setVisibility(!0),{all:function(){G.update(t)},resize:function(){n.zoomBounds=null,G.update(t)},pinchZoom:function(){n.lightBoxBottom.update()}}})),xh(Ch,Zd,(function(e){var t=G.tree(Zd,["visibleOverlay",{lightBoxWrapper:["lightBoxSlide",{lightBox:[{lightBoxBottom:["close","submit","next","prev","captions"]}]}]},"captionContainer","lightBoxClose"]),n=G.getNamespace(Zd);n.slide=n.lightBoxSlide,n.wrapper=n.lightBoxWrapper,n.visibleOverlay.setVisibility(!0);var i=function(e,n){if(n===Zd){var i={next:e.next,prev:e.previous,submit:e.submit};G.resetStates(Zd),G.updateVisibility(i,Zd),G.update(t)}};return DS.pubSub.on(DS.events.frameModel.LAYOUT_CHANGED,i),i(e.currControlLayout),{all:function(){return G.update(t)},resize:function(){n.zoomBounds=null,G.update(t)},pinchZoom:function(){return n.lightBoxBottom.update()}}})),xh(Ch,qd,(function(e){G.tree(qd,[{printWrapper:["printSlide"]}]);var t=G.getNamespace(qd);return t.slide=t.printSlide,t.wrapper=t.printWrapper,{all:function(){},resize:function(){},pinchZoom:function(){}}})),xh(Ch,rh,(function(e){var t=G.tree(rh,["overlay",{messageWindowWrapper:["messageWindowSlide"]},"disableOverlay"]),n=G.getNamespace(rh);return n.slide=n.messageWindowSlide,n.wrapper=n.messageWindowWrapper,{all:function(){return G.update(t)},resize:function(){n.isAttached&&(n.overlay.update(),n.messageWindowWrapper.update())}}})),xh(Ch,_h,Ih),xh(Ch,Ah,jh),xh(Ch,Mh,Bh),Ch),"html5/data/js/frame.js")}();
